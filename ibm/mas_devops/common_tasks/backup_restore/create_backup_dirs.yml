---
# Create backup directory structure for backup
# -----------------------------------------------------------------------------

- name: "Set fact: backup directory paths"
  include_tasks: "{{ role_path }}/../../common_tasks/backup_restore/set_backup_dirs.yml"
  vars:
    backup_base_path: "{{ backup_base_path }}"

- name: "Create backup directories"
  file:
    path: "{{ item }}"
    state: directory
    mode: "0755"
  loop:
    - "{{ backup_base_path }}"
    - "{{ backup_resources_path }}"
    - "{{ backup_secrets_path }}"
    - "{{ backup_configmaps_path }}"
    - "{{ backup_issuers_path }}"
    - "{{ backup_certificates_path }}"
    - "{{ backup_deployments_path }}"
    - "{{ backup_data_path }}"
