---
- name: 'Watsonx: Debug properties'
  debug:
    msg:
      - 'Watsonx action ........................ {{ aiservice_watsonx_action }}'

- name: 'Set wx_on_prem to true if contains ibm domain'
  set_fact:
    aiservice_watsonxai_on_prem: true
  when: aiservice_watsonxai_url | regex_search(aiservice_watsonxai_url_domain)

# 1. Perform the selected action
# -----------------------------------------------------------------------------
# Two actions are supported:
# - install
# - remove
- include_tasks: 'watsonx/{{ aiservice_watsonx_action }}/main.yml'
  when:
    - aiservice_watsonx_action != "none"
