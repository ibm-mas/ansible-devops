---
# Required variables

# Directory containing the backup folders
mas_backup_dir: "{{ lookup('env', 'MAS_BACKUP_DIR') }}"

# Backup version to use for all component's backup
backup_version: "{{ lookup('env', 'BACKUP_VERSION') }}"

# Specific backup versions for each component (optional - override backup_version)
ibm_catalogs_backup_version: "{{ lookup('env', 'IBM_CATALOGS_BACKUP_VERSION') | default (backup_version, true) }}"
certmanager_backup_version: "{{ lookup('env', 'CERTMANAGER_BACKUP_VERSION') | default (backup_version, true) }}"
mongodb_backup_version: "{{ lookup('env', 'MONGODB_BACKUP_VERSION') | default (backup_version, true) }}"
sls_backup_version: "{{ lookup('env', 'SLS_BACKUP_VERSION') | default (backup_version, true) }}"
db2_backup_version: "{{ lookup('env', 'DB2_BACKUP_VERSION') | default (backup_version, true) }}"
suite_backup_version: "{{ lookup('env', 'SUITE_BACKUP_VERSION') | default (backup_version, true) }}"
manage_backup_version: "{{ lookup('env', 'MANAGE_BACKUP_VERSION') | default (backup_version, true) }}"

# S3 Configuration (provide these to upload to S3)
aws_access_key_id: "{{ lookup('env', 'S3_ACCESS_KEY_ID') }}"
aws_secret_access_key: "{{ lookup('env', 'S3_SECRET_ACCESS_KEY') }}"
s3_bucket_name: "{{ lookup('env', 'S3_BUCKET_NAME') }}"
s3_region: "{{ lookup('env', 'S3_REGION') }}"
s3_endpoint_url: "{{ lookup('env', 'S3_ENDPOINT_URL') }}"

# Artifactory Configuration (provide these to upload to Artifactory)
artifactory_username: "{{ lookup('env', 'ARTIFACTORY_USERNAME') }}"
artifactory_token: "{{ lookup('env', 'ARTIFACTORY_TOKEN') }}"
artifactory_url: "{{ lookup('env', 'ARTIFACTORY_URL') }}"
artifactory_repository: "{{ lookup('env', 'ARTIFACTORY_REPOSITORY') }}"

# General settings
backup_archive_name: "mas-backup-{{ backup_version }}.tar.gz"
backup_temp_dir: "{{ mas_backup_dir }}/mas-backup-{{ backup_version }}"
upload_timeout: 3600  # Upload timeout in seconds (1 hour)
