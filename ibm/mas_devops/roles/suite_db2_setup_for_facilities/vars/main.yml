---
# vars file for db2_dbconfig
# Configuration templates for both Db2uCluster (deprecated) and Db2uInstance (current)

db2_configs:
  "1.0.0":
    # Configuration for Db2uCluster (deprecated but maintained for backward compatibility)
    Db2uCluster: |
      environment:
        database:
          dbConfig:
            STRING_UNITS: 'CODEUNITS32'
            DDL_CONSTRAINT_DEF: 'YES'
            STMT_CONC: 'OFF'
            LOGPRIMARY: '23'
            LOGFILSIZ: '32768'
            LOGSECOND: '12'
            LOGBUFSZ: '8192'
            LOCKTIMEOUT: '30'
            CATALOGCACHE_SZ: '2048'
            LOGARCHMETH1: 'OFF'
        instance:
          dbmConfig:
            RQRIOBLK: '65535'
            AGENT_STACK_SZ: '1024'
          registry:
            DB2_COMPATIBILITY_VECTOR: ORA
            DB2AUTH: 'OSAUTHDB,ALLOW_LOCAL_FALLBACK,PLUGIN_AUTO_RELOAD'
            DB2_4K_DEVICE_SUPPORT: 'ON'
            DB2_FMP_RUN_AS_CONNECTED_USER: 'NO'
            DB2_WORKLOAD: 'PUREDATA_OLAP'
            DB2_DEFERRED_PREPARE_SEMANTICS: 'YES'
            DB2_ATS_ENABLE: 'YES'
            DB2COMM: 'tcpip,ssl'
            DB2_USE_ALTERNATE_PAGE_CLEANING: 'ON'
    
    # Configuration for Db2uInstance (current, recommended)
    Db2uInstance: |
      environment:
        databases:
          - dbConfig:
              STRING_UNITS: 'CODEUNITS32'
              DDL_CONSTRAINT_DEF: 'YES'
              STMT_CONC: 'OFF'
              LOGPRIMARY: '23'
              LOGFILSIZ: '32768'
              LOGSECOND: '12'
              LOGBUFSZ: '8192'
              LOCKTIMEOUT: '30'
              CATALOGCACHE_SZ: '2048'
              LOGARCHMETH1: 'OFF'
        instance:
          dbmConfig:
            RQRIOBLK: '65535'
            AGENT_STACK_SZ: '1024'
          registry:
            DB2_COMPATIBILITY_VECTOR: ORA
            DB2AUTH: 'OSAUTHDB,ALLOW_LOCAL_FALLBACK,PLUGIN_AUTO_RELOAD'
            DB2_4K_DEVICE_SUPPORT: 'ON'
            DB2_FMP_RUN_AS_CONNECTED_USER: 'NO'
            DB2_WORKLOAD: 'PUREDATA_OLAP'
            DB2_DEFERRED_PREPARE_SEMANTICS: 'YES'
            DB2_ATS_ENABLE: 'YES'
            DB2COMM: 'tcpip,ssl'
            DB2_USE_ALTERNATE_PAGE_CLEANING: 'ON'

# Registry validation for property checks (used in main.yml)
db2_instance_registry:
  DB2_COMPATIBILITY_VECTOR: ORA
  DB2AUTH: 'OSAUTHDB,ALLOW_LOCAL_FALLBACK,PLUGIN_AUTO_RELOAD'
  DB2_4K_DEVICE_SUPPORT: 'ON'
  DB2_FMP_RUN_AS_CONNECTED_USER: 'NO'
  DB2_WORKLOAD: 'PUREDATA_OLAP'
