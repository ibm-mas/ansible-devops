---
# Required variables

# Directory where the backup archive will be downloaded and extracted
mas_restore_dir: "{{ lookup('env', 'MAS_RESTORE_DIR') }}"

# Backup version to download
backup_version: "{{ lookup('env', 'BACKUP_VERSION') }}"
backup_archive_name: "{{ lookup('env', 'BACKUP_ARCHIVE_NAME') }}"

# S3 Configuration (provide these to download from S3)
aws_access_key_id: "{{ lookup('env', 'S3_ACCESS_KEY_ID') }}"
aws_secret_access_key: "{{ lookup('env', 'S3_SECRET_ACCESS_KEY') }}"
s3_bucket_name: "{{ lookup('env', 'S3_BUCKET_NAME') }}"
s3_region: "{{ lookup('env', 'S3_REGION') }}"
s3_endpoint_url: "{{ lookup('env', 'S3_ENDPOINT_URL') }}"

# Artifactory Configuration (provide these to download from Artifactory)
artifactory_username: "{{ lookup('env', 'ARTIFACTORY_USERNAME') }}"
artifactory_token: "{{ lookup('env', 'ARTIFACTORY_TOKEN') }}"
artifactory_url: "{{ lookup('env', 'ARTIFACTORY_URL') }}"
artifactory_repository: "{{ lookup('env', 'ARTIFACTORY_REPOSITORY') }}"

# General settings
backup_temp_dir: "{{ lookup('env', 'BACKUP_TEMP_DIR') | default('/tmp/mas-restore', true) }}"
download_timeout: "{{ lookup('env', 'DOWNLOAD_TIMEOUT_SECS') | default(3600, true) }}"  # Download timeout in seconds (1 hour)
extract_archive: "{{ lookup('env', 'EXTRACT_ARCHIVE') | default(true, true) }}"  # Whether to extract the archive after download
cleanup_archive: "{{ lookup('env', 'CLEANUP_ARCHIVE') | default(true, true) }}"  # Whether to remove the archive file after extraction
