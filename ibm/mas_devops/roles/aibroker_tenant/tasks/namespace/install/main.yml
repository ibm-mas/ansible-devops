---
- name: "Check if namespace exists: {{ mas_aibroker_tenant_namespace }}"
  kubernetes.core.k8s_info:
    api_version: v1
    kind: Namespace
    name: "{{ mas_aibroker_tenant_namespace }}"
  register: namespace_info

- name: "Create namespace: {{ mas_aibroker_tenant_namespace }}"
  kubernetes.core.k8s:
    name: "{{ mas_aibroker_tenant_namespace }}"
    api_version: v1
    kind: Namespace
  when:
    - namespace_info.resources | length == 0
