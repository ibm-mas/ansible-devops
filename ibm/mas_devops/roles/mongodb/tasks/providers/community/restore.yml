---
# Check mongodb restore required variables
# -----------------------------------------------------------------------------
- name: "Set fact: "
  set_fact:
    mas_instance_id: "{{ lookup('env', 'MAS_INSTANCE_ID') }}"

- name: "Fail if mas_instance_id is not provided"
  assert:
    that: mas_instance_id is defined and mas_instance_id != ""
    fail_msg: "mas_instance_id is required"

# Get mongodb information
# -------------------------------------------------------------------------
- name: "Get mongodb information"
  include_tasks: "{{ role_path }}/tasks/providers/{{ mongodb_provider }}/backup-restore/get-mongo-info.yml"
