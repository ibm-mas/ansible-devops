<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>suite_manage_attachments_config - MAS DevOps Ansible Collection</title>

    <!-- Pure CSS (https://pure-css.github.io/) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css" integrity="sha384-X38yfunGUhNzHpBaEBsWLO+A0HDYOQi8ufWDkZ0k9e0eXz/tH3II7uKZ9msv++Ls" crossorigin="anonymous">
    <link rel="stylesheet" href="../../css/theme.css">

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E=" crossorigin="anonymous"></script>
    <script src="../../js/theme.js"></script>

    <!-- Carbon theme zones (white, g10, g90, g100) -->
    <link rel="stylesheet" href="https://1.www.s81c.com/common/carbon/web-components/tag/latest/themes.css">

    <!-- The Carbon web-components/framework -->
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/ui-shell.min.js"></script>
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/accordion.min.js"></script>
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/breadcrumb.min.js"></script>
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/select.min.js"></script>
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/tabs.min.js"></script>
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/search.min.js"></script>

    <!-- HighlightJS code formatting support -->
    <link rel="stylesheet" id="hljs-light" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
    <link rel="stylesheet" id="hljs-dark" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
    <script>hljs.highlightAll();</script>

    <!-- Required by MkDocs search -->
    <script>var base_url = "../..";</script>

    <!-- User defined extras -->
    
    

    

    
    <script src="../../search/main.js"></script>
    
  <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: black; }
        </style></head>

  <body class="md-grid" data-theme-default="g90">
    <!-- Header -->
    <cds-header aria-label="MAS DevOps Ansible Collection" class="md-header">
      <cds-header-menu-button button-label-active="Close menu" button-label-inactive="Open menu"></cds-header-menu-button>
      <cds-header-name href="../.." prefix="IBM">MAS DevOps Ansible Collection</cds-header-name>
      <cds-header-nav menu-bar-label="IBM MAS DevOps Ansible Collection">
          <cds-header-nav-item is-active target="" href="">Ansible</cds-header-nav-item>
          <cds-header-nav-item target="" href="https://ibm-mas.github.io/cli/">CLI</cds-header-nav-item>
      </cds-header-nav>

      <div class="cds--header__global">
<div class="md-theme-toggle" data-theme-default="g90">
  <button class="md-theme-toggle__button" aria-label="Toggle theme" title="Toggle theme">
    <svg class="md-theme-toggle__icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"></path>
    </svg>
  </button>
  <div class="md-theme-toggle__menu" hidden>
    <button class="md-theme-toggle__option" data-theme="white">
      <span class="md-theme-toggle__label">Light</span>
      <span class="md-theme-toggle__preview md-theme-toggle__preview--white"></span>
    </button>
    <button class="md-theme-toggle__option" data-theme="g10">
      <span class="md-theme-toggle__label">Light Gray</span>
      <span class="md-theme-toggle__preview md-theme-toggle__preview--g10"></span>
    </button>
    <button class="md-theme-toggle__option" data-theme="g90">
      <span class="md-theme-toggle__label">Dark Gray</span>
      <span class="md-theme-toggle__preview md-theme-toggle__preview--g90"></span>
    </button>
    <button class="md-theme-toggle__option" data-theme="g100">
      <span class="md-theme-toggle__label">Dark</span>
      <span class="md-theme-toggle__preview md-theme-toggle__preview--g100"></span>
    </button>
  </div>
</div>
        <cds-search id="header-search" label-text="Search" cds-search-input="search-event" expandable></cds-search>
      </div>
      <script>
        var el = document.getElementById("header-search");
        el.addEventListener("cds-search-input", function (ev) {
          console.info(ev.detail.value)
          document.getElementById("header-search-value").setAttribute("value", ev.detail.value);
        });
        el.addEventListener('keydown', function (ev) {
          if (ev.key === 'Enter') {
            location.href="../../search.html?q=" + document.querySelector("#header-search").shadowRoot.querySelector("#input").value;
          }
        });
      </script>

      
    </cds-header>

    <!-- Main container with three-column layout -->
    <div class="md-container">
      <!-- Left sidebar - Navigation -->
      <aside class="md-sidebar md-sidebar--primary" data-md-component="sidebar">
        <div class="md-sidebar__scrollwrap">
          <div class="md-sidebar__inner">
            <cds-side-nav aria-label="Side navigation">
              <cds-side-nav-items>
                
                  
  <cds-side-nav-menu title="General Information">
    
      
  <cds-side-nav-menu-item href="../..">
    Home
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../execution-environment/">
    Ansible Automation Platform
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

                
                  
  <cds-side-nav-menu title="Playbooks">
    
      
  <cds-side-nav-menu-item href="../../playbooks/ocp/">
    OCP
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/cp4d/">
    Install Cloud Pak For Data
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/aiservice/">
    Install AI Service
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-core/">
    Install Core
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-iot/">
    Add IoT
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-manage/">
    Add Manage
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-monitor/">
    Add Monitor
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-optimizer/">
    Add Optimizer
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-predict/">
    Add Predict
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-visualinspection/">
    Add Visual Inspection
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-facilities/">
    Add Real Estate and Facilities
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-update/">
    Update
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-upgrade/">
    Upgrade
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/backup-restore/">
    Backup &amp; Restore
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

                
                  
  <cds-side-nav-menu title="Roles: OCP Mgmt">
    
      
  <cds-side-nav-menu-item href="../ocp_cluster_monitoring/">
    ocp_cluster_monitoring
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_config/">
    ocp_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_deprovision/">
    ocp_deprovision
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_efs/">
    ocp_efs
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_github_oauth/">
    ocp_github_oauth
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_login/">
    ocp_login
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_node_config/">
    ocp_node_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_provision/">
    ocp_provision
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_roks_upgrade_registry_storage/">
    ocp_roks_upgrade_registry_storage
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_upgrade/">
    ocp_upgrade
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_verify/">
    ocp_verify
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

                
                  
  <cds-side-nav-menu title="Roles: Dependency Mgmt">
    
      
  <cds-side-nav-menu-item href="../aws_bucket_access_point/">
    aws_bucket_access_point
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../aws_documentdb_user/">
    aws_documentdb_user
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../aws_policy/">
    aws_policy
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../aws_route53/">
    aws_route53
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../aws_user_creation/">
    aws_user_creation
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../aws_vpc/">
    aws_vpc
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../cert_manager/">
    cert_manager
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../cis/">
    cis
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../configure_manage_eventstreams/">
    configure_manage_eventstreams
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../cos/">
    cos
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../cos_bucket/">
    cos_bucket
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../cp4d_admin_pwd_update/">
    cp4d_admin_pwd_update
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../cp4d/">
    cp4d
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../cp4d_service/">
    cp4d_service
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../db2/">
    db2
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../dro/">
    dro
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../eck/">
    eck
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../grafana/">
    grafana
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ibm_catalogs/">
    ibm_catalogs
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../kafka/">
    kafka
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../longhorn/">
    longhorn
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../nvidia_gpu/">
    nvidia_gpu
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../mongodb/">
    mongodb
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocs/">
    ocs
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../sls/">
    sls
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../turbonomic/">
    turbonomic
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

                
                  
  <cds-side-nav-menu title="Roles: Image Mirroring">
    
      
  <cds-side-nav-menu-item href="../mirror_case_prepare/">
    mirror_case_prepare
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../mirror_extras_prepare/">
    mirror_extras_prepare
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../mirror_images/">
    mirror_images
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../mirror_ocp/">
    mirror_ocp
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_idms/">
    ocp_idms
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_simulate_disconnected_network/">
    ocp_simulate_disconnected_network
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../registry/">
    registry
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

                
                  
  <cds-side-nav-menu title="Roles: Suite Mgmt" active expanded>
    
      
  <cds-side-nav-menu-item href="../suite_app_config/">
    suite_app_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_app_install/">
    suite_app_install
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_app_uninstall/">
    suite_app_uninstall
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_app_upgrade/">
    suite_app_upgrade
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_app_rollback/">
    suite_app_rollback
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_app_backup_restore/">
    suite_app_backup_restore
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_certs/">
    suite_certs
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_config/">
    suite_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_db2_setup_for_manage/">
    suite_db2_setup_for_manage
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_dns/">
    suite_dns
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_install/">
    suite_install
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="./" active expanded>
    suite_manage_attachments_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_birt_report_config/">
    suite_manage_birt_report_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_bim_config/">
    suite_manage_bim_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_customer_files_config/">
    suite_manage_customer_files_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_imagestitching_config/">
    suite_manage_imagestitching_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_import_certs_config/">
    suite_manage_import_certs_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_load_dbc_scripts/">
    suite_manage_load_dbc_scripts
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_logging_config/">
    suite_manage_logging_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_pvc_config/">
    suite_manage_pvc_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_uninstall/">
    suite_uninstall
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_upgrade/">
    suite_upgrade
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_rollback/">
    suite_rollback
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_verify/">
    suite_verify
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_backup_restore/">
    suite_backup_restore
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

                
                  
  <cds-side-nav-menu title="Roles: Utilities">
    
      
  <cds-side-nav-menu-item href="../ansible_version_check/">
    ansible_version_check
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../entitlement_key_rotation/">
    entitlement_key_rotation
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../gencfg_jdbc/">
    gencfg_jdbc
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../gencfg_watsonstudio/">
    gencfg_watsonstudio
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../gencfg_workspace/">
    gencfg_workspace
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../gencfg_mongo/">
    gencfg_mongo
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

                
              </cds-side-nav-items>
            </cds-side-nav>
          </div>
        </div>
      </aside>

      <!-- Main content area -->
      <div class="md-content" data-md-component="content">
        <article class="md-content__inner">
          <!-- Breadcrumbs -->
          <div class="md-breadcrumbs"><cds-breadcrumb no-trailing-slash>
  <cds-breadcrumb-item>
    <cds-breadcrumb-link href="../..">Home</cds-breadcrumb-link>
  </cds-breadcrumb-item>
      <cds-breadcrumb-item>Roles: Suite Mgmt</cds-breadcrumb-item>
  <cds-breadcrumb-item>
    <cds-breadcrumb-link href="#suite_manage_attachments_config">suite_manage_attachments_config</cds-breadcrumb-link>
  </cds-breadcrumb-item>

  <cds-breadcrumb-item aria-current="page">
    <cds-select id="breadcrumbs-toc" inline placeholder="..." oninput="changeAnchor(this.value)">
    
    
      <cds-select-item value="#storage-provider-options">Storage Provider Options</cds-select-item>
    
      <cds-select-item value="#role-variables">Role Variables</cds-select-item>
    
      <cds-select-item value="#example-playbook">Example Playbook</cds-select-item>
    
      <cds-select-item value="#license">License</cds-select-item>
    
    </cds-select>
  </cds-breadcrumb-item>
</cds-breadcrumb>
          </div>

          <!-- Page content -->
          <div class="rst-content">
            
            <h1 id="suite_manage_attachments_config">suite_manage_attachments_config<a class="headerlink" href="#suite_manage_attachments_config" title="Permanent link">¤</a></h1>
<p>This role configures storage for Maximo Manage application attachments, supporting multiple storage providers including IBM Cloud Object Storage, AWS S3, and persistent file storage. The role updates Manage configuration either through the ManageWorkspace custom resource or directly via database SQL updates.</p>
<div class="admonition important">
<p class="admonition-title">Prerequisites</p>
<p>This role must be executed <strong>after</strong> Manage application is deployed and activated. Manage must be up and running before configuring attachment features.</p>
</div>
<h2 id="storage-provider-options">Storage Provider Options<a class="headerlink" href="#storage-provider-options" title="Permanent link">¤</a></h2>
<p>The role supports three storage providers:</p>
<ul>
<li><strong>filestorage</strong> (default): Uses cluster's default file storage system (PVC)</li>
<li><strong>ibm</strong>: Uses IBM Cloud Object Storage buckets</li>
<li><strong>aws</strong>: Uses Amazon S3 buckets</li>
</ul>
<p>For cloud storage providers (<code>ibm</code> or <code>aws</code>), the <code>cos_bucket</code> role is automatically executed to set up the bucket configuration.</p>
<h2 id="role-variables">Role Variables<a class="headerlink" href="#role-variables" title="Permanent link">¤</a></h2>
<h3 id="mas_manage_attachments_provider">mas_manage_attachments_provider<a class="headerlink" href="#mas_manage_attachments_provider" title="Permanent link">¤</a></h3>
<p>Storage provider type for Manage attachments.</p>
<ul>
<li><strong>Optional</strong></li>
<li>Environment Variable: <code>MAS_MANAGE_ATTACHMENTS_PROVIDER</code></li>
<li>Default: <code>filestorage</code></li>
</ul>
<p><strong>Purpose</strong>: Determines which storage backend is used to store Manage application attachments (documents, images, files).</p>
<p><strong>When to use</strong>:
- Use default <code>filestorage</code> for simple deployments with PVC storage
- Use <code>ibm</code> when leveraging IBM Cloud Object Storage for scalability
- Use <code>aws</code> when using AWS S3 for cloud-native storage</p>
<p><strong>Valid values</strong>: <code>filestorage</code>, <code>ibm</code>, <code>aws</code></p>
<p><strong>Impact</strong>:
- <code>filestorage</code>: Attachments stored in cluster file storage (PVC mount)
- <code>ibm</code>: Attachments stored in IBM Cloud Object Storage (requires COS credentials)
- <code>aws</code>: Attachments stored in AWS S3 (requires AWS credentials and CLI)</p>
<p><strong>Related variables</strong>:
- <code>mas_manage_attachment_configuration_mode</code>: How configuration is applied
- <code>db2_instance_name</code>: Required for database configuration mode</p>
<p><strong>Note</strong>: For <code>ibm</code> or <code>aws</code> providers, ensure you set COS/S3 credentials (<code>COS_APIKEY</code>, <code>COS_INSTANCE_NAME</code> for IBM, or <code>AWS_ACCESS_KEY_ID</code>, <code>AWS_SECRET_ACCESS_KEY</code> for AWS). AWS provider requires <a href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html">AWS CLI</a> to be installed.</p>
<h3 id="mas_manage_attachment_configuration_mode">mas_manage_attachment_configuration_mode<a class="headerlink" href="#mas_manage_attachment_configuration_mode" title="Permanent link">¤</a></h3>
<p>Configuration method for attachment properties.</p>
<ul>
<li><strong>Optional</strong></li>
<li>Environment Variable: <code>MAS_MANAGE_ATTACHMENT_CONFIGURATION_MODE</code></li>
<li>Default: <code>db</code></li>
</ul>
<p><strong>Purpose</strong>: Determines how attachment configuration properties are applied to Manage - either through Kubernetes custom resource or direct database updates.</p>
<p><strong>When to use</strong>:
- Use <code>db</code> (default) for direct database configuration (faster, simpler)
- Use <code>cr</code> for GitOps workflows or when database access is restricted</p>
<p><strong>Valid values</strong>: <code>db</code>, <code>cr</code></p>
<p><strong>Impact</strong>:
- <code>db</code>: Updates attachment properties via SQL directly in Manage database (requires <code>db2_instance_name</code>, <code>db2_namespace</code>, <code>db2_dbname</code>)
- <code>cr</code>: Updates attachment properties in ManageWorkspace custom resource under <code>bundleProperties</code> (requires <code>manage_workspace_cr_name</code>)</p>
<p><strong>Related variables</strong>:
- <code>db2_instance_name</code>: Required when mode is <code>db</code>
- <code>manage_workspace_cr_name</code>: Required when mode is <code>cr</code></p>
<p><strong>Note</strong>: The <code>db</code> mode is recommended for most deployments as it's more direct. Use <code>cr</code> mode for declarative/GitOps approaches.</p>
<h3 id="mas_instance_id">mas_instance_id<a class="headerlink" href="#mas_instance_id" title="Permanent link">¤</a></h3>
<p>MAS instance identifier.</p>
<ul>
<li><strong>Required</strong></li>
<li>Environment Variable: <code>MAS_INSTANCE_ID</code></li>
<li>Default: None</li>
</ul>
<p><strong>Purpose</strong>: Identifies which MAS instance contains the Manage application to configure.</p>
<p><strong>When to use</strong>:
- Always required for attachment configuration
- Must match the instance ID from MAS installation</p>
<p><strong>Valid values</strong>: Lowercase alphanumeric string, 3-12 characters (e.g., <code>prod</code>, <code>dev</code>, <code>masinst1</code>)</p>
<p><strong>Impact</strong>: Used to locate Manage application resources and construct resource names.</p>
<p><strong>Related variables</strong>:
- <code>mas_workspace_id</code>: Workspace within this instance
- <code>manage_workspace_cr_name</code>: Constructed from instance and workspace IDs</p>
<p><strong>Note</strong>: This must match the instance ID used during Manage installation.</p>
<h3 id="mas_workspace_id">mas_workspace_id<a class="headerlink" href="#mas_workspace_id" title="Permanent link">¤</a></h3>
<p>Workspace identifier for Manage application.</p>
<ul>
<li><strong>Required</strong></li>
<li>Environment Variable: <code>MAS_WORKSPACE_ID</code></li>
<li>Default: None</li>
</ul>
<p><strong>Purpose</strong>: Identifies which workspace within the MAS instance contains the Manage application to configure.</p>
<p><strong>When to use</strong>:
- Always required for attachment configuration
- Must match the workspace ID where Manage is deployed</p>
<p><strong>Valid values</strong>: Lowercase alphanumeric string, typically 3-12 characters (e.g., <code>prod</code>, <code>dev</code>, <code>masdev</code>)</p>
<p><strong>Impact</strong>: Used to locate Manage application resources within the specified instance.</p>
<p><strong>Related variables</strong>:
- <code>mas_instance_id</code>: Parent instance
- <code>manage_workspace_cr_name</code>: Constructed from instance and workspace IDs</p>
<p><strong>Note</strong>: This must match the workspace ID used during Manage installation.</p>
<h3 id="manage_workspace_cr_name">manage_workspace_cr_name<a class="headerlink" href="#manage_workspace_cr_name" title="Permanent link">¤</a></h3>
<p>ManageWorkspace custom resource name.</p>
<ul>
<li><strong>Optional</strong> (Required when <code>mas_manage_attachment_configuration_mode=cr</code>)</li>
<li>Environment Variable: <code>MANAGE_WORKSPACE_CR_NAME</code></li>
<li>Default: <code>{mas_instance_id}-{mas_workspace_id}</code></li>
</ul>
<p><strong>Purpose</strong>: Specifies the name of the ManageWorkspace custom resource to update when using CR configuration mode.</p>
<p><strong>When to use</strong>:
- Required only when <code>mas_manage_attachment_configuration_mode=cr</code>
- Use default unless you have a custom CR naming convention
- Override if your ManageWorkspace CR has a non-standard name</p>
<p><strong>Valid values</strong>: Valid Kubernetes resource name</p>
<p><strong>Impact</strong>: Determines which ManageWorkspace CR is updated with attachment properties in <code>bundleProperties</code> section.</p>
<p><strong>Related variables</strong>:
- <code>mas_manage_attachment_configuration_mode</code>: Must be <code>cr</code> for this to be used
- <code>mas_instance_id</code>: Used in default name construction
- <code>mas_workspace_id</code>: Used in default name construction</p>
<p><strong>Note</strong>: The default naming convention <code>{instance}-{workspace}</code> matches standard Manage deployments. Only override if you have custom CR names.</p>
<h3 id="db2_instance_name">db2_instance_name<a class="headerlink" href="#db2_instance_name" title="Permanent link">¤</a></h3>
<p>Db2 Warehouse instance name.</p>
<ul>
<li><strong>Optional</strong> (Required when <code>mas_manage_attachment_configuration_mode=db</code>)</li>
<li>Environment Variable: <code>DB2_INSTANCE_NAME</code></li>
<li>Default: None</li>
</ul>
<p><strong>Purpose</strong>: Identifies the Db2 Warehouse instance that stores Manage application data for direct database configuration updates.</p>
<p><strong>When to use</strong>:
- Required when <code>mas_manage_attachment_configuration_mode=db</code>
- Must match the Db2 instance name used by Manage
- Used to connect to database for SQL updates</p>
<p><strong>Valid values</strong>: Valid Db2 instance name (e.g., <code>db2w-manage</code>, <code>db2u-iot</code>)</p>
<p><strong>Impact</strong>: Determines which Db2 instance is accessed to update attachment configuration via SQL.</p>
<p><strong>Related variables</strong>:
- <code>mas_manage_attachment_configuration_mode</code>: Must be <code>db</code> for this to be used
- <code>db2_namespace</code>: Namespace containing this instance
- <code>db2_dbname</code>: Database name within the instance</p>
<p><strong>Note</strong>: To find the instance name, go to the Db2 namespace and look for pods with <code>label=engine</code>. Describe the pod and find the <code>app</code> label value - that's your instance name.</p>
<h3 id="db2_namespace">db2_namespace<a class="headerlink" href="#db2_namespace" title="Permanent link">¤</a></h3>
<p>Db2 Warehouse namespace.</p>
<ul>
<li><strong>Optional</strong></li>
<li>Environment Variable: <code>DB2_NAMESPACE</code></li>
<li>Default: <code>db2u</code></li>
</ul>
<p><strong>Purpose</strong>: Specifies the OpenShift namespace where the Db2 Warehouse instance is deployed.</p>
<p><strong>When to use</strong>:
- Use default (<code>db2u</code>) for standard Db2 deployments
- Override if Db2 is deployed in a custom namespace
- Only relevant when <code>mas_manage_attachment_configuration_mode=db</code></p>
<p><strong>Valid values</strong>: Valid Kubernetes namespace name</p>
<p><strong>Impact</strong>: Determines where to look for the Db2 instance when connecting for database updates.</p>
<p><strong>Related variables</strong>:
- <code>db2_instance_name</code>: Instance to find in this namespace
- <code>mas_manage_attachment_configuration_mode</code>: Must be <code>db</code> for this to be relevant</p>
<p><strong>Note</strong>: The default <code>db2u</code> namespace is used by most Db2 Warehouse deployments. Only change if you have a custom deployment.</p>
<h3 id="db2_dbname">db2_dbname<a class="headerlink" href="#db2_dbname" title="Permanent link">¤</a></h3>
<p>Database name within Db2 instance.</p>
<ul>
<li><strong>Optional</strong></li>
<li>Environment Variable: <code>DB2_DBNAME</code></li>
<li>Default: <code>BLUDB</code></li>
</ul>
<p><strong>Purpose</strong>: Specifies the database name within the Db2 instance where Manage tables are stored.</p>
<p><strong>When to use</strong>:
- Use default (<code>BLUDB</code>) for standard Manage deployments
- Override if Manage uses a custom database name
- Only relevant when <code>mas_manage_attachment_configuration_mode=db</code></p>
<p><strong>Valid values</strong>: Valid Db2 database name</p>
<p><strong>Impact</strong>: Determines which database within the Db2 instance is updated with attachment configuration.</p>
<p><strong>Related variables</strong>:
- <code>db2_instance_name</code>: Instance containing this database
- <code>mas_manage_attachment_configuration_mode</code>: Must be <code>db</code> for this to be relevant</p>
<p><strong>Note</strong>: <code>BLUDB</code> is the default database name for Manage deployments. Only change if you have a custom database configuration.</p>
<h2 id="example-playbook">Example Playbook<a class="headerlink" href="#example-playbook" title="Permanent link">¤</a></h2>
<h3 id="configure-cos-via-manageworkspace-cr">Configure COS via ManageWorkspace CR<a class="headerlink" href="#configure-cos-via-manageworkspace-cr" title="Permanent link">¤</a></h3>
<p>The following sample can be used to configure COS for an existing Manage application instance's attachments via ManageWorkspace CR update (note <code>cr</code> as configuration mode + <code>mas_instance_id</code> and <code>mas_workspace_id</code>, which will be used to infer the CR name):</p>
<pre><code class="language-yaml">- hosts: localhost
  any_errors_fatal: true
  vars:
    mas_manage_attachment_configuration_mode: cr
    mas_instance_id: masinst1
    mas_workspace_id: masdev
    cos_instance_name: cos-masinst1
    cos_bucket_name: manage-attachments-bucket
    ibmcloud_apikey: xxxx
    mas_manage_attachments_provider: ibm
  roles:
    - ibm.mas_devops.suite_manage_attachments_config
</code></pre>
<h3 id="provision-cos-and-configure-via-database">Provision COS and Configure via Database<a class="headerlink" href="#provision-cos-and-configure-via-database" title="Permanent link">¤</a></h3>
<p>The following sample playbook can be used to provision COS in IBM Cloud and configure COS for an existing Manage application instance's attachments via SQL updates in database (note <code>db</code> as configuration mode + <code>db2_instance_name</code>):</p>
<pre><code class="language-yaml">- hosts: localhost
  any_errors_fatal: true
  vars:
    mas_manage_attachment_configuration_mode: db
    mas_instance_id: masinst1
    mas_workspace_id: masdev
    db2_instance_name: db2w-manage
    cos_instance_name: cos-masinst1
    cos_bucket_name: manage-attachments-bucket
    ibmcloud_apikey: xxxx
    mas_manage_attachments_provider: ibm
  roles:
    - ibm.mas_devops.cos
    - ibm.mas_devops.suite_manage_attachments_config
</code></pre>
<h3 id="configure-file-storage-for-attachments">Configure File Storage for Attachments<a class="headerlink" href="#configure-file-storage-for-attachments" title="Permanent link">¤</a></h3>
<p>The following sample playbook can be used to deploy Manage with default persistent storage for Manage attachments (PVC mount path <code>/DOCLINKS</code>), and configure Manage system properties with the corresponding attachments settings via SQL updates in database:</p>
<pre><code class="language-yaml">- hosts: localhost
  any_errors_fatal: true
  vars:
    mas_manage_attachment_configuration_mode: db
    mas_app_id: manage
    mas_app_channel: 8.4.x
    mas_instance_id: masinst1
    mas_workspace_id: masdev
    db2_instance_name: db2w-manage
    mas_app_settings_persistent_volumes_flag: true
    mas_manage_attachments_provider: filestorage
  roles:
    - ibm.mas_devops.db2
    - ibm.mas_devops.suite_db2_setup_for_manage
    - ibm.mas_devops.suite_config
    - ibm.mas_devops.suite_app_install
    - ibm.mas_devops.suite_app_config
    - ibm.mas_devops.suite_manage_attachments_config
</code></pre>
<h3 id="configure-aws-s3-buckets">Configure AWS S3 Buckets<a class="headerlink" href="#configure-aws-s3-buckets" title="Permanent link">¤</a></h3>
<p>The following sample can be used to configure AWS S3 buckets for an existing Manage application instance's attachments:</p>
<pre><code class="language-yaml">- hosts: localhost
  any_errors_fatal: true
  vars:
    mas_instance_id: masinst1
    mas_workspace_id: masdev
    db2_instance_name: db2w-manage
    aws_bucket_name: manage-attachments-bucket
    mas_manage_attachments_provider: aws
  roles:
    - ibm.mas_devops.suite_manage_attachments_config
</code></pre>
<h2 id="license">License<a class="headerlink" href="#license" title="Permanent link">¤</a></h2>
<p>EPL-2.0</p>
            
          </div>

          <!-- Navigation footer (prev/next) -->
<nav class="md-footer-nav" aria-label="Footer navigation">
  <div class="md-footer-nav__inner">
    <a href="../suite_install/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
      <div class="md-footer-nav__direction">
        <svg class="md-footer-nav__icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path>
        </svg>
        <span>Previous</span>
      </div>
      <div class="md-footer-nav__title">
        <span class="md-footer-nav__title-text">suite_install</span>
      </div>
    </a>
    <a href="../suite_manage_birt_report_config/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
      <div class="md-footer-nav__direction">
        <span>Next</span>
        <svg class="md-footer-nav__icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"></path>
        </svg>
      </div>
      <div class="md-footer-nav__title">
        <span class="md-footer-nav__title-text">suite_manage_birt_report_config</span>
      </div>
    </a>
  </div>
</nav>
        </article>
      </div>

      <!-- Right sidebar - Table of Contents -->
      <aside class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<nav class="md-sidebar md-sidebar--secondary" aria-label="Table of contents">
  <div class="md-sidebar__scrollwrap">
    <div class="md-sidebar__inner">
      <div class="md-toc">
        <div class="md-toc__title">On this page</div>
        <ul class="md-toc__list">
              <li class="md-toc__item">
                <a href="#storage-provider-options" class="md-toc__link" data-md-level="1">
                  Storage Provider Options
                </a>
              </li>
              <li class="md-toc__item">
                <a href="#role-variables" class="md-toc__link" data-md-level="1">
                  Role Variables
                </a>
                  <ul class="md-toc__list">
                      <li class="md-toc__item">
                        <a href="#mas_manage_attachments_provider" class="md-toc__link" data-md-level="2">
                          mas_manage_attachments_provider
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#mas_manage_attachment_configuration_mode" class="md-toc__link" data-md-level="2">
                          mas_manage_attachment_configuration_mode
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#mas_instance_id" class="md-toc__link" data-md-level="2">
                          mas_instance_id
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#mas_workspace_id" class="md-toc__link" data-md-level="2">
                          mas_workspace_id
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#manage_workspace_cr_name" class="md-toc__link" data-md-level="2">
                          manage_workspace_cr_name
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#db2_instance_name" class="md-toc__link" data-md-level="2">
                          db2_instance_name
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#db2_namespace" class="md-toc__link" data-md-level="2">
                          db2_namespace
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#db2_dbname" class="md-toc__link" data-md-level="2">
                          db2_dbname
                        </a>
                      </li>
                  </ul>
              </li>
              <li class="md-toc__item">
                <a href="#example-playbook" class="md-toc__link" data-md-level="1">
                  Example Playbook
                </a>
                  <ul class="md-toc__list">
                      <li class="md-toc__item">
                        <a href="#configure-cos-via-manageworkspace-cr" class="md-toc__link" data-md-level="2">
                          Configure COS via ManageWorkspace CR
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#provision-cos-and-configure-via-database" class="md-toc__link" data-md-level="2">
                          Provision COS and Configure via Database
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#configure-file-storage-for-attachments" class="md-toc__link" data-md-level="2">
                          Configure File Storage for Attachments
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#configure-aws-s3-buckets" class="md-toc__link" data-md-level="2">
                          Configure AWS S3 Buckets
                        </a>
                      </li>
                  </ul>
              </li>
              <li class="md-toc__item">
                <a href="#license" class="md-toc__link" data-md-level="1">
                  License
                </a>
              </li>
        </ul>
      </div>
    </div>
  </div>
</nav>
      </aside>
    </div>

    <!-- Footer - Full width outside container -->
    <footer class="md-footer">
      Built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/durera/mkdocs-carbon">Carbon theme</a>
    </footer>
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": false, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
</script></body></html>