<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>ocp_provision - MAS DevOps Ansible Collection</title>

    <!-- Pure CSS (https://pure-css.github.io/) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css" integrity="sha384-X38yfunGUhNzHpBaEBsWLO+A0HDYOQi8ufWDkZ0k9e0eXz/tH3II7uKZ9msv++Ls" crossorigin="anonymous">
    <link rel="stylesheet" href="../../css/theme.css">

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E=" crossorigin="anonymous"></script>
    <script src="../../js/theme.js"></script>

    <!-- Carbon theme zones (white, g10, g90, g100) -->
    <link rel="stylesheet" href="https://1.www.s81c.com/common/carbon/web-components/tag/latest/themes.css">

    <!-- The Carbon web-components/framework -->
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/ui-shell.min.js"></script>
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/accordion.min.js"></script>
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/breadcrumb.min.js"></script>
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/select.min.js"></script>
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/tabs.min.js"></script>
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/search.min.js"></script>

    <!-- HighlightJS code formatting support -->
    <link rel="stylesheet" id="hljs-light" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
    <link rel="stylesheet" id="hljs-dark" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
    <script>hljs.highlightAll();</script>

    <!-- Required by MkDocs search -->
    <script>var base_url = "../..";</script>

    <!-- User defined extras -->
    
    

    

    
    <script src="../../search/main.js"></script>
    
  <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: black; }
        </style></head>

  <body class="md-grid" data-theme-default="g90">
    <!-- Header -->
    <cds-header aria-label="MAS DevOps Ansible Collection" class="md-header">
      <cds-header-menu-button button-label-active="Close menu" button-label-inactive="Open menu"></cds-header-menu-button>
      <cds-header-name href="../.." prefix="IBM">MAS DevOps Ansible Collection</cds-header-name>
      <cds-header-nav menu-bar-label="IBM MAS DevOps Ansible Collection">
          <cds-header-nav-item is-active target="" href="">Ansible</cds-header-nav-item>
          <cds-header-nav-item target="" href="https://ibm-mas.github.io/cli/">CLI</cds-header-nav-item>
      </cds-header-nav>

      <div class="cds--header__global">
<div class="md-theme-toggle" data-theme-default="g90">
  <button class="md-theme-toggle__button" aria-label="Toggle theme" title="Toggle theme">
    <svg class="md-theme-toggle__icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"></path>
    </svg>
  </button>
  <div class="md-theme-toggle__menu" hidden>
    <button class="md-theme-toggle__option" data-theme="white">
      <span class="md-theme-toggle__label">Light</span>
      <span class="md-theme-toggle__preview md-theme-toggle__preview--white"></span>
    </button>
    <button class="md-theme-toggle__option" data-theme="g10">
      <span class="md-theme-toggle__label">Light Gray</span>
      <span class="md-theme-toggle__preview md-theme-toggle__preview--g10"></span>
    </button>
    <button class="md-theme-toggle__option" data-theme="g90">
      <span class="md-theme-toggle__label">Dark Gray</span>
      <span class="md-theme-toggle__preview md-theme-toggle__preview--g90"></span>
    </button>
    <button class="md-theme-toggle__option" data-theme="g100">
      <span class="md-theme-toggle__label">Dark</span>
      <span class="md-theme-toggle__preview md-theme-toggle__preview--g100"></span>
    </button>
  </div>
</div>
        <cds-search id="header-search" label-text="Search" cds-search-input="search-event" expandable></cds-search>
      </div>
      <script>
        var el = document.getElementById("header-search");
        el.addEventListener("cds-search-input", function (ev) {
          console.info(ev.detail.value)
          document.getElementById("header-search-value").setAttribute("value", ev.detail.value);
        });
        el.addEventListener('keydown', function (ev) {
          if (ev.key === 'Enter') {
            location.href="../../search.html?q=" + document.querySelector("#header-search").shadowRoot.querySelector("#input").value;
          }
        });
      </script>

      
    </cds-header>

    <!-- Main container with three-column layout -->
    <div class="md-container">
      <!-- Left sidebar - Navigation -->
      <aside class="md-sidebar md-sidebar--primary" data-md-component="sidebar">
        <div class="md-sidebar__scrollwrap">
          <div class="md-sidebar__inner">
            <cds-side-nav aria-label="Side navigation">
              <cds-side-nav-items>
                
                  
  <cds-side-nav-menu title="General Information">
    
      
  <cds-side-nav-menu-item href="../..">
    Home
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../execution-environment/">
    Ansible Automation Platform
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

                
                  
  <cds-side-nav-menu title="Playbooks">
    
      
  <cds-side-nav-menu-item href="../../playbooks/ocp/">
    OCP
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/cp4d/">
    Install Cloud Pak For Data
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/aiservice/">
    Install AI Service
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-core/">
    Install Core
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-iot/">
    Add IoT
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-manage/">
    Add Manage
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-monitor/">
    Add Monitor
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-optimizer/">
    Add Optimizer
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-predict/">
    Add Predict
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-visualinspection/">
    Add Visual Inspection
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-facilities/">
    Add Real Estate and Facilities
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-update/">
    Update
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-upgrade/">
    Upgrade
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/backup-restore/">
    Backup &amp; Restore
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

                
                  
  <cds-side-nav-menu title="Roles: OCP Mgmt" active expanded>
    
      
  <cds-side-nav-menu-item href="../ocp_cluster_monitoring/">
    ocp_cluster_monitoring
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_config/">
    ocp_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_deprovision/">
    ocp_deprovision
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_efs/">
    ocp_efs
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_github_oauth/">
    ocp_github_oauth
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_login/">
    ocp_login
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_node_config/">
    ocp_node_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="./" active expanded>
    ocp_provision
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_roks_upgrade_registry_storage/">
    ocp_roks_upgrade_registry_storage
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_upgrade/">
    ocp_upgrade
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_verify/">
    ocp_verify
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

                
                  
  <cds-side-nav-menu title="Roles: Dependency Mgmt">
    
      
  <cds-side-nav-menu-item href="../aws_bucket_access_point/">
    aws_bucket_access_point
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../aws_documentdb_user/">
    aws_documentdb_user
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../aws_policy/">
    aws_policy
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../aws_route53/">
    aws_route53
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../aws_user_creation/">
    aws_user_creation
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../aws_vpc/">
    aws_vpc
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../cert_manager/">
    cert_manager
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../cis/">
    cis
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../configure_manage_eventstreams/">
    configure_manage_eventstreams
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../cos/">
    cos
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../cos_bucket/">
    cos_bucket
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../cp4d_admin_pwd_update/">
    cp4d_admin_pwd_update
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../cp4d/">
    cp4d
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../cp4d_service/">
    cp4d_service
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../db2/">
    db2
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../dro/">
    dro
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../eck/">
    eck
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../grafana/">
    grafana
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ibm_catalogs/">
    ibm_catalogs
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../kafka/">
    kafka
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../longhorn/">
    longhorn
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../nvidia_gpu/">
    nvidia_gpu
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../mongodb/">
    mongodb
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocs/">
    ocs
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../sls/">
    sls
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../turbonomic/">
    turbonomic
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

                
                  
  <cds-side-nav-menu title="Roles: Image Mirroring">
    
      
  <cds-side-nav-menu-item href="../mirror_case_prepare/">
    mirror_case_prepare
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../mirror_extras_prepare/">
    mirror_extras_prepare
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../mirror_images/">
    mirror_images
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../mirror_ocp/">
    mirror_ocp
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_idms/">
    ocp_idms
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_simulate_disconnected_network/">
    ocp_simulate_disconnected_network
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../registry/">
    registry
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

                
                  
  <cds-side-nav-menu title="Roles: Suite Mgmt">
    
      
  <cds-side-nav-menu-item href="../suite_app_config/">
    suite_app_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_app_install/">
    suite_app_install
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_app_uninstall/">
    suite_app_uninstall
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_app_upgrade/">
    suite_app_upgrade
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_app_rollback/">
    suite_app_rollback
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_app_backup_restore/">
    suite_app_backup_restore
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_certs/">
    suite_certs
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_config/">
    suite_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_db2_setup_for_manage/">
    suite_db2_setup_for_manage
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_dns/">
    suite_dns
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_install/">
    suite_install
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_attachments_config/">
    suite_manage_attachments_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_birt_report_config/">
    suite_manage_birt_report_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_bim_config/">
    suite_manage_bim_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_customer_files_config/">
    suite_manage_customer_files_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_imagestitching_config/">
    suite_manage_imagestitching_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_import_certs_config/">
    suite_manage_import_certs_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_load_dbc_scripts/">
    suite_manage_load_dbc_scripts
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_logging_config/">
    suite_manage_logging_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_pvc_config/">
    suite_manage_pvc_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_uninstall/">
    suite_uninstall
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_upgrade/">
    suite_upgrade
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_rollback/">
    suite_rollback
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_verify/">
    suite_verify
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_backup_restore/">
    suite_backup_restore
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

                
                  
  <cds-side-nav-menu title="Roles: Utilities">
    
      
  <cds-side-nav-menu-item href="../ansible_version_check/">
    ansible_version_check
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../entitlement_key_rotation/">
    entitlement_key_rotation
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../gencfg_jdbc/">
    gencfg_jdbc
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../gencfg_watsonstudio/">
    gencfg_watsonstudio
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../gencfg_workspace/">
    gencfg_workspace
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../gencfg_mongo/">
    gencfg_mongo
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

                
              </cds-side-nav-items>
            </cds-side-nav>
          </div>
        </div>
      </aside>

      <!-- Main content area -->
      <div class="md-content" data-md-component="content">
        <article class="md-content__inner">
          <!-- Breadcrumbs -->
          <div class="md-breadcrumbs"><cds-breadcrumb no-trailing-slash>
  <cds-breadcrumb-item>
    <cds-breadcrumb-link href="../..">Home</cds-breadcrumb-link>
  </cds-breadcrumb-item>
      <cds-breadcrumb-item>Roles: OCP Mgmt</cds-breadcrumb-item>
  <cds-breadcrumb-item>
    <cds-breadcrumb-link href="#ocp_provision">ocp_provision</cds-breadcrumb-link>
  </cds-breadcrumb-item>

  <cds-breadcrumb-item aria-current="page">
    <cds-select id="breadcrumbs-toc" inline placeholder="..." oninput="changeAnchor(this.value)">
    
    
      <cds-select-item value="#role-variables">Role Variables</cds-select-item>
    
      <cds-select-item value="#role-variables-gpu-node-support">Role Variables - GPU Node Support</cds-select-item>
    
      <cds-select-item value="#role-variables-roks">Role Variables - ROKS</cds-select-item>
    
      <cds-select-item value="#role-variables-rosa">Role Variables - ROSA</cds-select-item>
    
      <cds-select-item value="#role-variables-fyre">Role Variables - FYRE</cds-select-item>
    
      <cds-select-item value="#role-variables-ipi">Role Variables - IPI</cds-select-item>
    
      <cds-select-item value="#role-variables-aws">Role Variables - AWS</cds-select-item>
    
      <cds-select-item value="#role-variables-gcp">Role Variables - GCP</cds-select-item>
    
      <cds-select-item value="#example-playbook">Example Playbook</cds-select-item>
    
      <cds-select-item value="#license">License</cds-select-item>
    
    </cds-select>
  </cds-breadcrumb-item>
</cds-breadcrumb>
          </div>

          <!-- Page content -->
          <div class="rst-content">
            
            <h1 id="ocp_provision">ocp_provision<a class="headerlink" href="#ocp_provision" title="Permanent link">¤</a></h1>
<p>Provision OCP cluster on IBM Cloud ROKS, ROSA, or DevIT Fyre.</p>
<p>Fyre clusters will be automatically reconfigured to enable NFS storage.  By default this is made available via the <code>nfs-client</code> storage class and supports both <code>ReadWriteOnce</code> and <code>ReadWriteMany</code> access modes.  The <code>image-registry-storage</code> PVC used by the OpenShift image registry component will also be reconfigured to use this storage class.</p>
<h2 id="role-variables">Role Variables<a class="headerlink" href="#role-variables" title="Permanent link">¤</a></h2>
<h3 id="cluster_type">cluster_type<a class="headerlink" href="#cluster_type" title="Permanent link">¤</a></h3>
<p>Infrastructure provider type for cluster provisioning.</p>
<ul>
<li><strong>Required</strong></li>
<li>Environment Variable: <code>CLUSTER_TYPE</code></li>
<li>Default: None</li>
</ul>
<p><strong>Purpose</strong>: Specifies which infrastructure provider to use for provisioning the OpenShift cluster. Determines provisioning method and required variables.</p>
<p><strong>When to use</strong>:
- Always required for cluster provisioning
- Each type requires different provider-specific variables
- Determines available features (e.g., GPU support for ROKS)</p>
<p><strong>Valid values</strong>: <code>fyre</code>, <code>roks</code>, <code>rosa</code>, <code>ipi</code>
- <code>fyre</code>: IBM DevIT Fyre clusters (internal development)
- <code>roks</code>: IBM Cloud Red Hat OpenShift Kubernetes Service
- <code>rosa</code>: AWS Red Hat OpenShift Service on AWS
- <code>ipi</code>: Installer-Provisioned Infrastructure (bare metal/on-premises)</p>
<p><strong>Impact</strong>: Determines provisioning workflow and which provider-specific variables are required. Each type has different capabilities and configuration options.</p>
<p><strong>Related variables</strong>:
- <code>cluster_name</code>: Name for the new cluster
- <code>ocp_version</code>: OpenShift version to install
- Provider-specific variables (ibmcloud_apikey, rosa_token, fyre_apikey, etc.)</p>
<p><strong>Note</strong>: Fyre clusters automatically configure NFS storage. ROKS requires version format like <code>4.19_openshift</code>.</p>
<h3 id="cluster_name">cluster_name<a class="headerlink" href="#cluster_name" title="Permanent link">¤</a></h3>
<p>Name for the new cluster.</p>
<ul>
<li><strong>Required</strong></li>
<li>Environment Variable: <code>CLUSTER_NAME</code></li>
<li>Default: None</li>
</ul>
<p><strong>Purpose</strong>: Specifies the name for the OpenShift cluster to be provisioned. Used as the cluster identifier in the provider's system.</p>
<p><strong>When to use</strong>:
- Always required for cluster provisioning
- Must be unique within the provider's account/region
- Used for cluster identification and resource naming</p>
<p><strong>Valid values</strong>: String following provider naming conventions (typically lowercase alphanumeric with hyphens)</p>
<p><strong>Impact</strong>: Determines the cluster name in the provider's system. Used for DNS, resource naming, and cluster identification.</p>
<p><strong>Related variables</strong>:
- <code>cluster_type</code>: Provider where cluster will be created
- <code>ocp_version</code>: OpenShift version for the cluster</p>
<p><strong>Note</strong>: Name must follow provider-specific naming rules. Some providers have length limits or character restrictions.</p>
<h3 id="ocp_version">ocp_version<a class="headerlink" href="#ocp_version" title="Permanent link">¤</a></h3>
<p>OpenShift version to install.</p>
<ul>
<li><strong>Required</strong></li>
<li>Environment Variable: <code>OCP_VERSION</code></li>
<li>Default: None</li>
</ul>
<p><strong>Purpose</strong>: Specifies which version of OpenShift Container Platform to install on the provisioned cluster.</p>
<p><strong>When to use</strong>:
- Always required for cluster provisioning
- Use specific version for production (e.g., <code>4.19.14</code>)
- Use <code>default</code> for latest MAS-supported version
- Use <code>rotate</code> for testing (version changes by day of week)</p>
<p><strong>Valid values</strong>: 
- Specific version: <code>4.19</code>, <code>4.19.14</code>
- Alias: <code>default</code> (newest MAS-supported version)
- Alias: <code>rotate</code> (predetermined version by day, for testing)
- <strong>ROKS format</strong>: Must append <code>_openshift</code> (e.g., <code>4.19_openshift</code>, <code>4.19.14_openshift</code>)</p>
<p><strong>Impact</strong>: Determines OpenShift version installed. Version must be compatible with MAS and available from the provider.</p>
<p><strong>Related variables</strong>:
- <code>cluster_type</code>: ROKS requires <code>_openshift</code> suffix</p>
<p><strong>Note</strong>: <strong>IMPORTANT</strong> - For ROKS (<code>cluster_type=roks</code>), version MUST include <code>_openshift</code> suffix. The <code>default</code> alias selects the newest MAS-supported version. The <code>rotate</code> alias is for testing only.</p>
<h3 id="ocp_storage_provider">ocp_storage_provider<a class="headerlink" href="#ocp_storage_provider" title="Permanent link">¤</a></h3>
<p>Storage provider configuration for Fyre clusters.</p>
<ul>
<li><strong>Optional</strong></li>
<li>Environment Variable: <code>OCP_STORAGE_PROVIDER</code></li>
<li>Default: None</li>
</ul>
<p><strong>Purpose</strong>: Configures NFS storage for Fyre clusters, creating an nfs-client storage class and reconfiguring the image registry.</p>
<p><strong>When to use</strong>:
- Set to <code>nfs</code> for Fyre clusters to enable NFS storage
- Only applies when <code>cluster_type=fyre</code>
- Leave unset for other cluster types (ROKS, ROSA, IPI)</p>
<p><strong>Valid values</strong>: <code>nfs</code> (for Fyre clusters only)</p>
<p><strong>Impact</strong>: 
- <code>nfs</code>: Creates nfs-client storage class connected to infrastructure node, reconfigures image registry PVC to use NFS
- Unset: No storage configuration changes</p>
<p><strong>Related variables</strong>:
- <code>cluster_type</code>: Must be <code>fyre</code> for this to have effect</p>
<p><strong>Note</strong>: Only functional for Fyre clusters. When enabled, the existing image registry PVC is deleted and recreated with NFS storage. NFS storage class supports both ReadWriteOnce (RWO) and ReadWriteMany (RWX) access modes.</p>
<h2 id="role-variables-gpu-node-support">Role Variables - GPU Node Support<a class="headerlink" href="#role-variables-gpu-node-support" title="Permanent link">¤</a></h2>
<h3 id="ocp_provision_gpu">ocp_provision_gpu<a class="headerlink" href="#ocp_provision_gpu" title="Permanent link">¤</a></h3>
<p>Enable GPU worker nodes during provisioning.</p>
<ul>
<li><strong>Optional</strong></li>
<li>Environment Variable: <code>OCP_PROVISION_GPU</code></li>
<li>Default: <code>false</code></li>
</ul>
<p><strong>Purpose</strong>: Controls whether GPU-enabled worker nodes are provisioned with the cluster. Required for GPU-intensive applications like MAS Visual Inspection (MVI).</p>
<p><strong>When to use</strong>:
- Set to <code>true</code> for MAS Visual Inspection deployments
- Set to <code>true</code> for other GPU-intensive workloads
- Leave as <code>false</code> (default) for standard deployments
- Currently only supported for ROKS clusters</p>
<p><strong>Valid values</strong>: <code>true</code>, <code>false</code></p>
<p><strong>Impact</strong>: 
- <code>true</code>: Provisions GPU worker pool with specified number of GPU nodes
- <code>false</code>: No GPU nodes provisioned (standard cluster)</p>
<p><strong>Related variables</strong>:
- <code>gpu_workerpool_name</code>: Name of GPU worker pool
- <code>gpu_workers</code>: Number of GPU nodes to provision
- <code>cluster_type</code>: Must be <code>roks</code> for GPU support</p>
<p><strong>Note</strong>: GPU support is currently only available for ROKS clusters. GPU nodes use mg4c.32x384.2xp100-GPU flavor with P100 GPUs.</p>
<h3 id="gpu_workerpool_name">gpu_workerpool_name<a class="headerlink" href="#gpu_workerpool_name" title="Permanent link">¤</a></h3>
<p>Name for GPU worker pool.</p>
<ul>
<li><strong>Optional</strong></li>
<li>Environment Variable: <code>GPU_WORKERPOOL_NAME</code></li>
<li>Default: <code>gpu</code></li>
</ul>
<p><strong>Purpose</strong>: Specifies the name for the GPU worker pool to be created or modified in the cluster.</p>
<p><strong>When to use</strong>:
- Use default (<code>gpu</code>) for new GPU deployments
- Set to existing pool name to modify rather than create new
- Only applies when <code>ocp_provision_gpu=true</code></p>
<p><strong>Valid values</strong>: String following worker pool naming conventions</p>
<p><strong>Impact</strong>: Determines GPU worker pool name. Using an existing name modifies that pool; using a new name creates a new pool.</p>
<p><strong>Related variables</strong>:
- <code>ocp_provision_gpu</code>: Must be <code>true</code> for this to apply
- <code>gpu_workers</code>: Number of nodes in this pool
- <code>cluster_type</code>: Must be <code>roks</code></p>
<p><strong>Note</strong>: If a GPU worker pool already exists with this name, it will be modified rather than creating a duplicate. Use the existing name to avoid multiple GPU pools.</p>
<h3 id="gpu_workers">gpu_workers<a class="headerlink" href="#gpu_workers" title="Permanent link">¤</a></h3>
<p>The number of GPU worker nodes that will be deploy in the cluster. The node created will have mg4c.32x384.2xp100-GPU flavor. This variable depends on <code>ocp_provision_gpu</code> and is currently supported on ROKS clusters only.</p>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>GPU_WORKERS</code></li>
<li>Default Value: <code>1</code></li>
</ul>
<h3 id="compute_node_count">compute_node_count<a class="headerlink" href="#compute_node_count" title="Permanent link">¤</a></h3>
<p>The number of compute nodes (i.e. worker nodes) allocate to the OCP cluster.</p>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>COMPUTE_NODE_COUNT</code></li>
<li>Default Value: <code>3</code></li>
</ul>
<h3 id="controlplane_node_count">controlplane_node_count<a class="headerlink" href="#controlplane_node_count" title="Permanent link">¤</a></h3>
<p>The number of control plane nodes (i.e. master nodes) allocate to the OCP cluster.</p>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>CONTROLPLANE_NODE_COUNT</code></li>
<li>Default Value: <code>3</code></li>
</ul>
<h3 id="gpu_workerpool_name_1">gpu_workerpool_name<a class="headerlink" href="#gpu_workerpool_name_1" title="Permanent link">¤</a></h3>
<p>The name of the gpu worker pool to added to or modify in the cluster. If already existing, use the existing name to avoid recreating another gpu worker pool unless that is the goal.</p>
<ul>
<li>Environment Variable: <code>GPU_WORKERPOOL_NAME</code></li>
<li>Default Value: <code>gpu</code></li>
</ul>
<h2 id="role-variables-roks">Role Variables - ROKS<a class="headerlink" href="#role-variables-roks" title="Permanent link">¤</a></h2>
<p>The following variables are only used when <code>cluster_type = roks</code>.</p>
<h3 id="ibmcloud_apikey">ibmcloud_apikey<a class="headerlink" href="#ibmcloud_apikey" title="Permanent link">¤</a></h3>
<p>The APIKey to be used by ibmcloud login comand.</p>
<ul>
<li><strong>Required</strong> if <code>cluster_type = roks</code></li>
<li>Environment Variable: <code>IBMCLOUD_APIKEY</code></li>
<li>Default Value: None</li>
</ul>
<h3 id="ibmcloud_endpoint">ibmcloud_endpoint<a class="headerlink" href="#ibmcloud_endpoint" title="Permanent link">¤</a></h3>
<p>Override the default IBMCloud API endpoint.</p>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>IBMCLOUD_ENDPOINT</code></li>
<li>Default Value: <code>https://cloud.ibm.com</code></li>
</ul>
<h3 id="ibmcloud_resourcegroup">ibmcloud_resourcegroup<a class="headerlink" href="#ibmcloud_resourcegroup" title="Permanent link">¤</a></h3>
<p>The resource group to create the cluster inside.</p>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>IBMCLOUD_RESOURCEGROUP</code></li>
<li>Default Value: <code>Default</code></li>
</ul>
<h3 id="roks_zone">roks_zone<a class="headerlink" href="#roks_zone" title="Permanent link">¤</a></h3>
<p>IBM Cloud zone where the cluster should be provisioned.</p>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>ROKS_ZONE</code></li>
<li>Default Value: <code>dal10</code></li>
</ul>
<h3 id="roks_flavor">roks_flavor<a class="headerlink" href="#roks_flavor" title="Permanent link">¤</a></h3>
<p>Worker node flavor</p>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>ROKS_FLAVOR</code></li>
<li>Default Value: <code>b3c.16x64.300gb</code></li>
</ul>
<h3 id="roks_workers">roks_workers<a class="headerlink" href="#roks_workers" title="Permanent link">¤</a></h3>
<p>Number of worker nodes for the roks cluster</p>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>ROKS_WORKERS</code></li>
<li>Default Value: <code>3</code></li>
</ul>
<h3 id="roks_flags">roks_flags<a class="headerlink" href="#roks_flags" title="Permanent link">¤</a></h3>
<p>Can be used to specify additional parameters for the cluster creation</p>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>ROKS_FLAGS</code></li>
<li>Default Value: None</li>
</ul>
<h2 id="role-variables-rosa">Role Variables - ROSA<a class="headerlink" href="#role-variables-rosa" title="Permanent link">¤</a></h2>
<p>The following variables are only used when <code>cluster_type = rosa</code>.</p>
<h3 id="rosa_token">rosa_token<a class="headerlink" href="#rosa_token" title="Permanent link">¤</a></h3>
<p>Token to authenticate to the ROSA service.  To obtain your API token login to the <a href="https://console.redhat.com/openshift/token/rosa/show#">OpenShift cluster manager</a>.</p>
<ul>
<li><strong>Required</strong> if <code>cluster_type = rosa</code>.</li>
<li>Environment Variable: <code>ROSA_TOKEN</code></li>
<li>Default Value: None</li>
</ul>
<h3 id="rosa_cluster_admin_password">rosa_cluster_admin_password<a class="headerlink" href="#rosa_cluster_admin_password" title="Permanent link">¤</a></h3>
<p>Password to set up for the <code>cluster-admin</code> user account on the OCP instance.  You will need this to log onto the cluster after it is provisioned. If this is not set then a password is auto-generated.</p>
<ul>
<li><strong>Optional</strong> if <code>cluster_type = rosa</code>.</li>
<li>Environment Variable: <code>ROSA_CLUSTER_ADMIN_PASSWORD</code></li>
<li>Default Value: None</li>
</ul>
<h3 id="rosa_compute_nodes">rosa_compute_nodes<a class="headerlink" href="#rosa_compute_nodes" title="Permanent link">¤</a></h3>
<p>Number of compute nodes to deploy in the cluster.</p>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>ROSA_COMPUTE_NODES</code></li>
<li>Default Value: <code>3</code></li>
</ul>
<h3 id="rosa_compute_machine_type">rosa_compute_machine_type<a class="headerlink" href="#rosa_compute_machine_type" title="Permanent link">¤</a></h3>
<p>Worker nodes machine</p>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>ROSA_COMPUTE_MACHINE_TYPE</code></li>
<li>Default Value: <code>m5.4xlarge</code></li>
</ul>
<h3 id="rosa_config_dir">rosa_config_dir<a class="headerlink" href="#rosa_config_dir" title="Permanent link">¤</a></h3>
<p>Config directory to hold the rosa-{{cluster_name}}-details.yaml file that contains the api endpoint and cluster-admin details</p>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>ROSA_CONFIG_DIR</code></li>
<li>Default Value: None</li>
</ul>
<h2 id="role-variables-fyre">Role Variables - FYRE<a class="headerlink" href="#role-variables-fyre" title="Permanent link">¤</a></h2>
<p>The following variables are only used when <code>cluster_type = fyre</code>.</p>
<h3 id="fyre_username">fyre_username<a class="headerlink" href="#fyre_username" title="Permanent link">¤</a></h3>
<p>Username to authenticate with Fyre API.</p>
<ul>
<li><strong>Required</strong> if <code>cluster_type = fyre</code>.</li>
<li>Environment Variable: <code>FYRE_USERNAME</code></li>
<li>Default Value: None</li>
</ul>
<h3 id="fyre_apikey">fyre_apikey<a class="headerlink" href="#fyre_apikey" title="Permanent link">¤</a></h3>
<p>API key to authenticate with Fyre API.</p>
<ul>
<li><strong>Required</strong> if <code>cluster_type = fyre</code>.</li>
<li>Environment Variable: <code>FYRE_APIKEY</code></li>
<li>Default Value: None</li>
</ul>
<h3 id="fyre_quota_type">fyre_quota_type<a class="headerlink" href="#fyre_quota_type" title="Permanent link">¤</a></h3>
<p>Type of quota to draw from when provisioning the cluster, valid options are <code>quick_burn</code> and <code>product_group</code>.</p>
<ul>
<li><strong>Required</strong> if <code>cluster_type = fyre</code>.</li>
<li>Environment Variable: <code>FYRE_QUOTA_TYPE</code></li>
<li>Default Value: <code>quick_burn</code></li>
</ul>
<h3 id="fyre_product_id">fyre_product_id<a class="headerlink" href="#fyre_product_id" title="Permanent link">¤</a></h3>
<p>The Product ID that the cluster will be associated with for accounting purposes.</p>
<ul>
<li><strong>Required</strong> if <code>cluster_type = fyre</code>.</li>
<li>Environment Variable: <code>FYRE_PRODUCT_ID</code></li>
<li>Default Value: None</li>
</ul>
<h3 id="fyre_site">fyre_site<a class="headerlink" href="#fyre_site" title="Permanent link">¤</a></h3>
<p>Provide a site in Fyre where cluster will be provisioned</p>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>FYRE_SITE</code></li>
<li>Default Value: <code>svl</code></li>
</ul>
<h3 id="fyre_cluster_description">fyre_cluster_description<a class="headerlink" href="#fyre_cluster_description" title="Permanent link">¤</a></h3>
<p>Provide a description for the cluster.</p>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>FYRE_CLUSTER_DESCRIPTION</code></li>
<li>Default Value: None</li>
</ul>
<h3 id="ocp_fips_enabled">ocp_fips_enabled<a class="headerlink" href="#ocp_fips_enabled" title="Permanent link">¤</a></h3>
<p>Set to true to provision a FIPS enabled cluster.</p>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>OCP_FIPS_ENABLED</code></li>
<li>Default Value: <code>false</code></li>
</ul>
<h3 id="fyre_cluster_size">fyre_cluster_size<a class="headerlink" href="#fyre_cluster_size" title="Permanent link">¤</a></h3>
<p>The name of one of Fyre's pre-defined cluster sizes to use for the new cluster.</p>
<ul>
<li><strong>Required</strong> when <code>cluster_type = fyre</code> and <code>fyre_quota_type = quick_burn</code>.</li>
<li>Environment Variable: <code>FYRE_CLUSTER_SIZE</code></li>
<li>Default Value: <code>medium</code></li>
</ul>
<h3 id="fyre_worker_count">fyre_worker_count<a class="headerlink" href="#fyre_worker_count" title="Permanent link">¤</a></h3>
<p>The number of worker nodes to provision in the cluster.</p>
<ul>
<li><strong>Required</strong> when <code>cluster_type = fyre</code> and <code>fyre_quota_type = product_group</code>.</li>
<li>Environment Variable: <code>FYRE_WORKER_COUNT</code></li>
<li>Default Value: <code>2</code></li>
</ul>
<h3 id="fyre_worker_cpu">fyre_worker_cpu<a class="headerlink" href="#fyre_worker_cpu" title="Permanent link">¤</a></h3>
<p>The amount of CPU to assign to each worker node (maximum value supported by FYRE 16).</p>
<ul>
<li><strong>Required</strong> when <code>cluster_type = fyre</code> and <code>fyre_quota_type = product_group</code>.</li>
<li>Environment Variable: <code>FYRE_WORKER_CPU</code></li>
<li>Default Value: <code>8</code></li>
</ul>
<h3 id="fyre_worker_memory">fyre_worker_memory<a class="headerlink" href="#fyre_worker_memory" title="Permanent link">¤</a></h3>
<p>The amount of memory to assign to each worker node (maximum value supported by FYRE 64).</p>
<ul>
<li><strong>Required</strong> when <code>cluster_type = fyre</code> and <code>fyre_quota_type = product_group</code>.</li>
<li>Environment Variable: <code>FYRE_WORKER_MEMORY</code></li>
<li>Default Value: <code>32</code></li>
</ul>
<h3 id="fyre_worker_additional_disks">fyre_worker_additional_disks<a class="headerlink" href="#fyre_worker_additional_disks" title="Permanent link">¤</a></h3>
<p>The size of additional disks in Gb added to each worker node, defined in a comma-seperated list, e.g. <code>400,400</code> will add two 400gb disks to each worker node. By default no additional disks will be attached.</p>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>FYRE_WORKER_ADDITIONAL_DISKS</code></li>
<li>Default Value: <code>None</code></li>
</ul>
<h3 id="fyre_nfs_image_registry_size">fyre_nfs_image_registry_size<a class="headerlink" href="#fyre_nfs_image_registry_size" title="Permanent link">¤</a></h3>
<p>Defines the image registry storage size when configured to use NFS. The size allocated cannot be superior of storage available in the Fyre Infrastructure node.</p>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>FYRE_NFS_IMAGE_REGISTRY_SIZE</code></li>
<li>Default: <code>100Gi</code></li>
</ul>
<h3 id="enable_ipv6">enable_ipv6<a class="headerlink" href="#enable_ipv6" title="Permanent link">¤</a></h3>
<p>Enable IPv6. This is for Fyre at RTP site only.</p>
<ul>
<li>Environment Variable: <code>ENABLE_IPV6</code></li>
<li>Default: False</li>
</ul>
<h2 id="role-variables-ipi">Role Variables - IPI<a class="headerlink" href="#role-variables-ipi" title="Permanent link">¤</a></h2>
<p>These variables are only used when <code>cluster_type = ipi</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>IPI stands for <strong>Installer Provisioned Infrastructure</strong>.  OpenShift offers two possible deployment methods: IPI and UPI (User Provisioned Infrastructure). The difference is the degree of automation and customization. IPI will not only deploy OpenShift but also all infrastructure components and configurations.</p>
</div>
<h3 id="ipi_platform">ipi_platform<a class="headerlink" href="#ipi_platform" title="Permanent link">¤</a></h3>
<p>Platform to create the cluster on.  Technically, any platform supported by <code>openshift-install</code> should work here, but currently we have only specifically tested on <code>aws</code> and <code>gcp</code> , where <code>aws</code> is the default value.</p>
<ul>
<li>Optional when <code>cluster_type = ipi</code></li>
<li>Environment Variable: <code>IPI_PLATFORM</code></li>
<li>Default Value: <code>aws</code></li>
</ul>
<h3 id="ipi_region">ipi_region<a class="headerlink" href="#ipi_region" title="Permanent link">¤</a></h3>
<p>Platform region where OCP cluster will be created.</p>
<ul>
<li>Optional when <code>cluster_type = ipi</code></li>
<li>Environment Variable: <code>IPI_REGION</code></li>
<li>Default Value: <code>us-east-1</code></li>
</ul>
<h3 id="ipi_base_domain">ipi_base_domain<a class="headerlink" href="#ipi_base_domain" title="Permanent link">¤</a></h3>
<p>Specify the base domain of the cluster that will be provisioned.</p>
<ul>
<li><strong>Required</strong> when <code>cluster_type = ipi</code></li>
<li>Environment Variable: <code>IPI_BASE_DOMAIN</code></li>
<li>Default Value: None</li>
</ul>
<h3 id="ipi_pull_secret_file">ipi_pull_secret_file<a class="headerlink" href="#ipi_pull_secret_file" title="Permanent link">¤</a></h3>
<p>Location of the file containing your Redhat OpenShift pull secret.  This file can be obtained from the <a href="https://console.redhat.com/openshift/install/metal/user-provisioned">Red Hat Hybrid Cloud Console</a></p>
<ul>
<li><strong>Required</strong> when <code>cluster_type = ipi</code></li>
<li>Environment Variable: <code>IPI_PULL_SECRET_FILE</code></li>
<li>Default Value: None</li>
</ul>
<h3 id="ipi_dir">ipi_dir<a class="headerlink" href="#ipi_dir" title="Permanent link">¤</a></h3>
<p>The working directory that is used to perform the installation, it will contain the <code>openshift-install</code> executable, its configuration files, &amp; any generated logs.</p>
<ul>
<li>Optional when <code>cluster_type = ipi</code></li>
<li>Environment Variable: <code>IPI_DIR</code></li>
<li>Default Value: <code>~/openshift-install</code></li>
</ul>
<h3 id="sshkey">sshKey<a class="headerlink" href="#sshkey" title="Permanent link">¤</a></h3>
<p>Public SSH key value. It will be set in the OCP cluster nodes.
Can be used to SSH into the OCP cluster nodes using a bastion.</p>
<ul>
<li>Optional when <code>cluster_type = ipi</code></li>
<li>Environment Variable: <code>SSH_PUB_KEY</code></li>
</ul>
<h3 id="ipi_controlplane_type">ipi_controlplane_type<a class="headerlink" href="#ipi_controlplane_type" title="Permanent link">¤</a></h3>
<p>Control plane node type.</p>
<ul>
<li>Optional when <code>cluster_type = ipi</code></li>
<li>Environment Variable: <code>IPI_CONTROLPLANE_TYPE</code></li>
<li>Default Value: <code>m5.4xlarge</code></li>
</ul>
<h3 id="ipi_controlplane_replicas">ipi_controlplane_replicas<a class="headerlink" href="#ipi_controlplane_replicas" title="Permanent link">¤</a></h3>
<p>The number of master nodes to provision to form the control plane of your cluster.</p>
<ul>
<li>Optional when <code>cluster_type = ipi</code></li>
<li>Environment Variable: <code>IPI_CONTROLPLANE_REPLICAS</code></li>
<li>Default Value: <code>3</code></li>
</ul>
<h3 id="ipi_compute_type">ipi_compute_type<a class="headerlink" href="#ipi_compute_type" title="Permanent link">¤</a></h3>
<p>Compute node type.</p>
<ul>
<li>Optional when <code>cluster_type = ipi</code></li>
<li>Environment Variable: <code>IPI_COMPUTE_TYPE</code></li>
<li>Default Value: <code>m5.4xlarge</code></li>
</ul>
<h3 id="ipi_compute_replicas">ipi_compute_replicas<a class="headerlink" href="#ipi_compute_replicas" title="Permanent link">¤</a></h3>
<p>The number of worker nodes to provsision in the cluster, providing your compute resource.</p>
<ul>
<li>Optional when <code>cluster_type = ipi</code></li>
<li>Environment Variable: <code>IPI_COMPUTE_REPLICAS</code></li>
<li>Default Value: <code>3</code></li>
</ul>
<h3 id="ipi_rootvolume_size">ipi_rootvolume_size<a class="headerlink" href="#ipi_rootvolume_size" title="Permanent link">¤</a></h3>
<p>The size of root volume in GiB.</p>
<ul>
<li>Optional when <code>cluster_type = ipi</code></li>
<li>Environment variable: <code>IPI_ROOTVOLUME_SIZE</code></li>
</ul>
<h2 id="role-variables-aws">Role Variables - AWS<a class="headerlink" href="#role-variables-aws" title="Permanent link">¤</a></h2>
<p>The following variables are only used when <code>cluster_type = ipi</code> and <code>ipi_platform = aws</code>.</p>
<h3 id="aws_access_key_id">aws_access_key_id<a class="headerlink" href="#aws_access_key_id" title="Permanent link">¤</a></h3>
<p>AWS access key associated with an IAM user or role. Make sure the access key has permissions to create instances.</p>
<ul>
<li><strong>Required</strong> when <code>cluster_type = ipi</code> and <code>ipi_platform = aws</code></li>
<li>Environment Variable: <code>AWS_ACCESS_KEY_ID</code></li>
<li>Default Value: None</li>
</ul>
<h3 id="aws_secret_access_key">aws_secret_access_key<a class="headerlink" href="#aws_secret_access_key" title="Permanent link">¤</a></h3>
<p>AWS secret access key associated with an IAM user or role.</p>
<ul>
<li><strong>Required</strong> when <code>cluster_type = aws-ipi</code> and <code>ipi_platform = aws</code></li>
<li>Environment Variable: <code>AWS_SECRET_ACCESS_KEY</code></li>
<li>Default Value: None</li>
</ul>
<h2 id="role-variables-gcp">Role Variables - GCP<a class="headerlink" href="#role-variables-gcp" title="Permanent link">¤</a></h2>
<p>The following variables are only used when <code>cluster_type = ipi</code> and <code>ipi_platform = gcp</code>.</p>
<h3 id="gcp_service_account_file">gcp_service_account_file<a class="headerlink" href="#gcp_service_account_file" title="Permanent link">¤</a></h3>
<p>GCP service account file path. Make sure the service account has permissions to create instances.</p>
<ul>
<li><strong>Required</strong> when <code>cluster_type = ipi</code> and <code>ipi_platform = gcp</code></li>
<li>Environment Variable: <code>GOOGLE_APPLICATION_CREDENTIALS</code></li>
<li>Default Value: None</li>
</ul>
<h3 id="ipi_gcp_projectid">ipi_gcp_projectid<a class="headerlink" href="#ipi_gcp_projectid" title="Permanent link">¤</a></h3>
<p>GCP project id in which the cluster will be deployed.</p>
<ul>
<li><strong>Required</strong> when <code>cluster_type = ipi</code> and <code>ipi_platform = gcp</code></li>
<li>Environment Variable: <code>GOOGLE_PROJECTID</code></li>
<li>Default Value: None</li>
</ul>
<h2 id="example-playbook">Example Playbook<a class="headerlink" href="#example-playbook" title="Permanent link">¤</a></h2>
<pre><code class="language-yaml">- hosts: localhost
  vars:
    cluster_type: roks
    cluster_name: mycluster
    ocp_version: 4.10

    ibmcloud_apikey: xxxxx
  roles:
    - ibm.mas_devops.ocp_provision
</code></pre>
<h2 id="license">License<a class="headerlink" href="#license" title="Permanent link">¤</a></h2>
<p>EPL-2.0</p>
            
          </div>

          <!-- Navigation footer (prev/next) -->
<nav class="md-footer-nav" aria-label="Footer navigation">
  <div class="md-footer-nav__inner">
    <a href="../ocp_node_config/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
      <div class="md-footer-nav__direction">
        <svg class="md-footer-nav__icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path>
        </svg>
        <span>Previous</span>
      </div>
      <div class="md-footer-nav__title">
        <span class="md-footer-nav__title-text">ocp_node_config</span>
      </div>
    </a>
    <a href="../ocp_roks_upgrade_registry_storage/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
      <div class="md-footer-nav__direction">
        <span>Next</span>
        <svg class="md-footer-nav__icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"></path>
        </svg>
      </div>
      <div class="md-footer-nav__title">
        <span class="md-footer-nav__title-text">ocp_roks_upgrade_registry_storage</span>
      </div>
    </a>
  </div>
</nav>
        </article>
      </div>

      <!-- Right sidebar - Table of Contents -->
      <aside class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<nav class="md-sidebar md-sidebar--secondary" aria-label="Table of contents">
  <div class="md-sidebar__scrollwrap">
    <div class="md-sidebar__inner">
      <div class="md-toc">
        <div class="md-toc__title">On this page</div>
        <ul class="md-toc__list">
              <li class="md-toc__item">
                <a href="#role-variables" class="md-toc__link" data-md-level="1">
                  Role Variables
                </a>
                  <ul class="md-toc__list">
                      <li class="md-toc__item">
                        <a href="#cluster_type" class="md-toc__link" data-md-level="2">
                          cluster_type
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#cluster_name" class="md-toc__link" data-md-level="2">
                          cluster_name
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#ocp_version" class="md-toc__link" data-md-level="2">
                          ocp_version
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#ocp_storage_provider" class="md-toc__link" data-md-level="2">
                          ocp_storage_provider
                        </a>
                      </li>
                  </ul>
              </li>
              <li class="md-toc__item">
                <a href="#role-variables-gpu-node-support" class="md-toc__link" data-md-level="1">
                  Role Variables - GPU Node Support
                </a>
                  <ul class="md-toc__list">
                      <li class="md-toc__item">
                        <a href="#ocp_provision_gpu" class="md-toc__link" data-md-level="2">
                          ocp_provision_gpu
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#gpu_workerpool_name" class="md-toc__link" data-md-level="2">
                          gpu_workerpool_name
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#gpu_workers" class="md-toc__link" data-md-level="2">
                          gpu_workers
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#compute_node_count" class="md-toc__link" data-md-level="2">
                          compute_node_count
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#controlplane_node_count" class="md-toc__link" data-md-level="2">
                          controlplane_node_count
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#gpu_workerpool_name_1" class="md-toc__link" data-md-level="2">
                          gpu_workerpool_name
                        </a>
                      </li>
                  </ul>
              </li>
              <li class="md-toc__item">
                <a href="#role-variables-roks" class="md-toc__link" data-md-level="1">
                  Role Variables - ROKS
                </a>
                  <ul class="md-toc__list">
                      <li class="md-toc__item">
                        <a href="#ibmcloud_apikey" class="md-toc__link" data-md-level="2">
                          ibmcloud_apikey
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#ibmcloud_endpoint" class="md-toc__link" data-md-level="2">
                          ibmcloud_endpoint
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#ibmcloud_resourcegroup" class="md-toc__link" data-md-level="2">
                          ibmcloud_resourcegroup
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#roks_zone" class="md-toc__link" data-md-level="2">
                          roks_zone
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#roks_flavor" class="md-toc__link" data-md-level="2">
                          roks_flavor
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#roks_workers" class="md-toc__link" data-md-level="2">
                          roks_workers
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#roks_flags" class="md-toc__link" data-md-level="2">
                          roks_flags
                        </a>
                      </li>
                  </ul>
              </li>
              <li class="md-toc__item">
                <a href="#role-variables-rosa" class="md-toc__link" data-md-level="1">
                  Role Variables - ROSA
                </a>
                  <ul class="md-toc__list">
                      <li class="md-toc__item">
                        <a href="#rosa_token" class="md-toc__link" data-md-level="2">
                          rosa_token
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#rosa_cluster_admin_password" class="md-toc__link" data-md-level="2">
                          rosa_cluster_admin_password
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#rosa_compute_nodes" class="md-toc__link" data-md-level="2">
                          rosa_compute_nodes
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#rosa_compute_machine_type" class="md-toc__link" data-md-level="2">
                          rosa_compute_machine_type
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#rosa_config_dir" class="md-toc__link" data-md-level="2">
                          rosa_config_dir
                        </a>
                      </li>
                  </ul>
              </li>
              <li class="md-toc__item">
                <a href="#role-variables-fyre" class="md-toc__link" data-md-level="1">
                  Role Variables - FYRE
                </a>
                  <ul class="md-toc__list">
                      <li class="md-toc__item">
                        <a href="#fyre_username" class="md-toc__link" data-md-level="2">
                          fyre_username
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#fyre_apikey" class="md-toc__link" data-md-level="2">
                          fyre_apikey
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#fyre_quota_type" class="md-toc__link" data-md-level="2">
                          fyre_quota_type
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#fyre_product_id" class="md-toc__link" data-md-level="2">
                          fyre_product_id
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#fyre_site" class="md-toc__link" data-md-level="2">
                          fyre_site
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#fyre_cluster_description" class="md-toc__link" data-md-level="2">
                          fyre_cluster_description
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#ocp_fips_enabled" class="md-toc__link" data-md-level="2">
                          ocp_fips_enabled
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#fyre_cluster_size" class="md-toc__link" data-md-level="2">
                          fyre_cluster_size
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#fyre_worker_count" class="md-toc__link" data-md-level="2">
                          fyre_worker_count
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#fyre_worker_cpu" class="md-toc__link" data-md-level="2">
                          fyre_worker_cpu
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#fyre_worker_memory" class="md-toc__link" data-md-level="2">
                          fyre_worker_memory
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#fyre_worker_additional_disks" class="md-toc__link" data-md-level="2">
                          fyre_worker_additional_disks
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#fyre_nfs_image_registry_size" class="md-toc__link" data-md-level="2">
                          fyre_nfs_image_registry_size
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#enable_ipv6" class="md-toc__link" data-md-level="2">
                          enable_ipv6
                        </a>
                      </li>
                  </ul>
              </li>
              <li class="md-toc__item">
                <a href="#role-variables-ipi" class="md-toc__link" data-md-level="1">
                  Role Variables - IPI
                </a>
                  <ul class="md-toc__list">
                      <li class="md-toc__item">
                        <a href="#ipi_platform" class="md-toc__link" data-md-level="2">
                          ipi_platform
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#ipi_region" class="md-toc__link" data-md-level="2">
                          ipi_region
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#ipi_base_domain" class="md-toc__link" data-md-level="2">
                          ipi_base_domain
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#ipi_pull_secret_file" class="md-toc__link" data-md-level="2">
                          ipi_pull_secret_file
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#ipi_dir" class="md-toc__link" data-md-level="2">
                          ipi_dir
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#sshkey" class="md-toc__link" data-md-level="2">
                          sshKey
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#ipi_controlplane_type" class="md-toc__link" data-md-level="2">
                          ipi_controlplane_type
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#ipi_controlplane_replicas" class="md-toc__link" data-md-level="2">
                          ipi_controlplane_replicas
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#ipi_compute_type" class="md-toc__link" data-md-level="2">
                          ipi_compute_type
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#ipi_compute_replicas" class="md-toc__link" data-md-level="2">
                          ipi_compute_replicas
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#ipi_rootvolume_size" class="md-toc__link" data-md-level="2">
                          ipi_rootvolume_size
                        </a>
                      </li>
                  </ul>
              </li>
              <li class="md-toc__item">
                <a href="#role-variables-aws" class="md-toc__link" data-md-level="1">
                  Role Variables - AWS
                </a>
                  <ul class="md-toc__list">
                      <li class="md-toc__item">
                        <a href="#aws_access_key_id" class="md-toc__link" data-md-level="2">
                          aws_access_key_id
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#aws_secret_access_key" class="md-toc__link" data-md-level="2">
                          aws_secret_access_key
                        </a>
                      </li>
                  </ul>
              </li>
              <li class="md-toc__item">
                <a href="#role-variables-gcp" class="md-toc__link" data-md-level="1">
                  Role Variables - GCP
                </a>
                  <ul class="md-toc__list">
                      <li class="md-toc__item">
                        <a href="#gcp_service_account_file" class="md-toc__link" data-md-level="2">
                          gcp_service_account_file
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#ipi_gcp_projectid" class="md-toc__link" data-md-level="2">
                          ipi_gcp_projectid
                        </a>
                      </li>
                  </ul>
              </li>
              <li class="md-toc__item">
                <a href="#example-playbook" class="md-toc__link" data-md-level="1">
                  Example Playbook
                </a>
              </li>
              <li class="md-toc__item">
                <a href="#license" class="md-toc__link" data-md-level="1">
                  License
                </a>
              </li>
        </ul>
      </div>
    </div>
  </div>
</nav>
      </aside>
    </div>

    <!-- Footer - Full width outside container -->
    <footer class="md-footer">
      Built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/durera/mkdocs-carbon">Carbon theme</a>
    </footer>
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": false, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
</script></body></html>