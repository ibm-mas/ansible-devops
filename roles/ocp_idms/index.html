<!DOCTYPE html><html><head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>ocp_idms - MAS DevOps Ansible Collection</title>

    <!-- Pure CSS (https://pure-css.github.io/) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css" integrity="sha384-X38yfunGUhNzHpBaEBsWLO+A0HDYOQi8ufWDkZ0k9e0eXz/tH3II7uKZ9msv++Ls" crossorigin="anonymous">
    <link rel="stylesheet" href="../../css/theme.css">

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E=" crossorigin="anonymous"></script>
    <script src="../../js/theme.js"></script>

    <!-- Carbon theme zones (white, g10, g90, g100) -->
    <link rel="stylesheet" href="https://1.www.s81c.com/common/carbon/web-components/tag/latest/themes.css">

    <!-- The Carbon web-components/framework -->
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/ui-shell.min.js"></script>
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/accordion.min.js"></script>
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/breadcrumb.min.js"></script>
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/select.min.js"></script>
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/tabs.min.js"></script>
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/search.min.js"></script>

    <!-- HighlightJS code formatting support -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
    <script>hljs.highlightAll();</script>

    <!-- Required by MkDocs search -->
    <script>var base_url = "../..";</script>

    <!-- User defined extras -->
    
    

    

    
    <script src="../../search/main.js"></script>
    
  <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: black; }
        </style></head>

  <body>
    <cds-header aria-label="MAS DevOps Ansible Collection" class="cds-theme-zone-g100">
      <cds-header-menu-button button-label-active="Close menu" button-label-inactive="Open menu"></cds-header-menu-button>
      <cds-header-name href="../.." prefix="IBM">MAS DevOps Ansible Collection</cds-header-name>
      <cds-header-nav menu-bar-label="IBM MAS DevOps Ansible Collection">
          <cds-header-nav-item is-active target="" href="">Ansible</cds-header-nav-item>
          <cds-header-nav-item target="" href="https://ibm-mas.github.io/cli/">CLI</cds-header-nav-item>
      </cds-header-nav>

      <div class="cds--header__global">
        <cds-search id="header-search" label-text="Search" cds-search-input="search-event" expandable></cds-search>
      </div>
      <script>
        var el = document.getElementById("header-search");
        el.addEventListener("cds-search-input", function (ev) {
          console.info(ev.detail.value)
          document.getElementById("header-search-value").setAttribute("value", ev.detail.value);
        });
        el.addEventListener('keydown', function (ev) {
          if (ev.key === 'Enter') {
            location.href="../../search.html?q=" + document.querySelector("#header-search").shadowRoot.querySelector("#input").value;
          }
        });
      </script>

      
        <cds-header-nav>
          <cds-header-nav-item href="https://github.com/ibm-mas/ansible-devops/blob/master/docs/roles/ocp_idms.md">Edit on GitHub</cds-header-nav-item>
        </cds-header-nav>
      

    </cds-header>

    <cds-side-nav aria-label="Side navigation" class="cds-theme-zone-g90">
      <cds-side-nav-items>
        
          
  <cds-side-nav-menu title="General Information">
    
      
  <cds-side-nav-menu-item href="../..">
    Home
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../execution-environment/">
    Ansible Automation Platform
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

        
          
  <cds-side-nav-menu title="Playbooks">
    
      
  <cds-side-nav-menu-item href="../../playbooks/ocp/">
    OCP
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/cp4d/">
    Install Cloud Pak For Data
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/aiservice/">
    Install AI Service
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-core/">
    Install Core
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-iot/">
    Add IoT
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-manage/">
    Add Manage
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-monitor/">
    Add Monitor
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-optimizer/">
    Add Optimizer
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-predict/">
    Add Predict
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-visualinspection/">
    Add Visual Inspection
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-facilities/">
    Add Real Estate and Facilities
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-update/">
    Update
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/mas-upgrade/">
    Upgrade
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../playbooks/backup-restore/">
    Backup &amp; Restore
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

        
          
  <cds-side-nav-menu title="Roles: OCP Mgmt">
    
      
  <cds-side-nav-menu-item href="../ocp_cluster_monitoring/">
    ocp_cluster_monitoring
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_config/">
    ocp_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_deprovision/">
    ocp_deprovision
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_efs/">
    ocp_efs
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_github_oauth/">
    ocp_github_oauth
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_login/">
    ocp_login
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_node_config/">
    ocp_node_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_provision/">
    ocp_provision
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_roks_upgrade_registry_storage/">
    ocp_roks_upgrade_registry_storage
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_upgrade/">
    ocp_upgrade
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_verify/">
    ocp_verify
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

        
          
  <cds-side-nav-menu title="Roles: Dependency Mgmt">
    
      
  <cds-side-nav-menu-item href="../appconnect/">
    appconnect
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../aws_bucket_access_point/">
    aws_bucket_access_point
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../aws_documentdb_user/">
    aws_documentdb_user
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../aws_policy/">
    aws_policy
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../aws_route53/">
    aws_route53
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../aws_user_creation/">
    aws_user_creation
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../aws_vpc/">
    aws_vpc
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../cert_manager/">
    cert_manager
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../cis/">
    cis
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../common_services/">
    common-services
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../configure_manage_eventstreams/">
    configure_manage_eventstreams
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../cos/">
    cos
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../cos_bucket/">
    cos_bucket
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../cp4d_admin_pwd_update/">
    cp4d_admin_pwd_update
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../cp4d/">
    cp4d
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../cp4d_service/">
    cp4d_service
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../db2/">
    db2
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../dro/">
    dro
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../eck/">
    eck
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../grafana/">
    grafana
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ibm_catalogs/">
    ibm_catalogs
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../kafka/">
    kafka
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../nvidia_gpu/">
    nvidia_gpu
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../mongodb/">
    mongodb
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocs/">
    ocs
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../sls/">
    sls
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../turbonomic/">
    turbonomic
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../uds/">
    uds
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

        
          
  <cds-side-nav-menu title="Roles: Image Mirroring" active expanded>
    
      
  <cds-side-nav-menu-item href="../mirror_case_prepare/">
    mirror_case_prepare
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../mirror_extras_prepare/">
    mirror_extras_prepare
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../mirror_images/">
    mirror_images
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../mirror_ocp/">
    mirror_ocp
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="./" active expanded>
    ocp_idms
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../ocp_simulate_disconnected_network/">
    ocp_simulate_disconnected_network
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../registry/">
    registry
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

        
          
  <cds-side-nav-menu title="Roles: Suite Mgmt">
    
      
  <cds-side-nav-menu-item href="../suite_app_config/">
    suite_app_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_app_install/">
    suite_app_install
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_app_uninstall/">
    suite_app_uninstall
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_app_upgrade/">
    suite_app_upgrade
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_app_rollback/">
    suite_app_rollback
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_app_backup_restore/">
    suite_app_backup_restore
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_certs/">
    suite_certs
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_config/">
    suite_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_db2_setup_for_manage/">
    suite_db2_setup_for_manage
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_dns/">
    suite_dns
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_install/">
    suite_install
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_attachments_config/">
    suite_manage_attachments_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_birt_report_config/">
    suite_manage_birt_report_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_bim_config/">
    suite_manage_bim_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_customer_files_config/">
    suite_manage_customer_files_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_imagestitching_config/">
    suite_manage_imagestitching_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_import_certs_config/">
    suite_manage_import_certs_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_load_dbc_scripts/">
    suite_manage_load_dbc_scripts
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_logging_config/">
    suite_manage_logging_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_manage_pvc_config/">
    suite_manage_pvc_config
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_uninstall/">
    suite_uninstall
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_upgrade/">
    suite_upgrade
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_rollback/">
    suite_rollback
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_verify/">
    suite_verify
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../suite_backup_restore/">
    suite_backup_restore
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

        
          
  <cds-side-nav-menu title="Roles: Utilities">
    
      
  <cds-side-nav-menu-item href="../ansible_version_check/">
    ansible_version_check
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../entitlement_key_rotation/">
    entitlement_key_rotation
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../gencfg_jdbc/">
    gencfg_jdbc
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../gencfg_watsonstudio/">
    gencfg_watsonstudio
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../gencfg_workspace/">
    gencfg_workspace
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../gencfg_mongo/">
    gencfg_mongo
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

        
      </cds-side-nav-items>
    </cds-side-nav>

    <div id="breadcrumbs" class="rst-content"><cds-breadcrumb no-trailing-slash>
  <cds-breadcrumb-item>
    <cds-breadcrumb-link href="../..">Home</cds-breadcrumb-link>
  </cds-breadcrumb-item>
      <cds-breadcrumb-item>Roles: Image Mirroring</cds-breadcrumb-item>

  <cds-breadcrumb-item aria-current="page">
    <cds-breadcrumb-link href="#ocp_idms">ocp_idms</cds-breadcrumb-link>
  </cds-breadcrumb-item>

  <cds-breadcrumb-item>
    <cds-select id="breadcrumbs-toc" class="cds-theme-zone-g10" inline placeholder="..." oninput="changeAnchor(this.value)">
    
    
      <cds-select-item value="#ibm-maximo-operator-catalog-content">IBM Maximo Operator Catalog Content</cds-select-item>
    
      <cds-select-item value="#red-hat-operator-catalog-content">Red Hat Operator Catalog Content</cds-select-item>
    
      <cds-select-item value="#role-variables">Role Variables</cds-select-item>
    
      <cds-select-item value="#role-variables-target-registry">Role Variables - Target Registry</cds-select-item>
    
      <cds-select-item value="#example-playbook">Example Playbook</cds-select-item>
    
      <cds-select-item value="#license">License</cds-select-item>
    
  </cds-select>
  </cds-breadcrumb-item>
</cds-breadcrumb>
    </div>

    <div id="main-content" class="rst-content">
      
      <h1 id="ocp_idms">ocp_idms<a class="headerlink" href="#ocp_idms" title="Permanent link">¤</a></h1>
<p>Installs an <strong>ImageDigestMirrorSet</strong> (IDMS)for IBM Maximo Application Suite's Maximo Operator Catalog.  Optionally can also install a second IDMS suitable for the Red Hat Operator Catalogs created by <a href="../mirror_ocp/">mirror_ocp</a>.  If there are legacy <strong>ImageContentSourcePolicies</strong> installed by previous versions of this role, they will be deleted.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This role doesn't work on IBMCloud ROKS.  IBM Cloud RedHat OpenShift Service does not implement support for <code>ImageDigestMirrorSet</code>.  If you want to use image mirroring you must manually configure each worker node individually using the IBM Cloud command line tool.</p>
</div>
<h2 id="ibm-maximo-operator-catalog-content">IBM Maximo Operator Catalog Content<a class="headerlink" href="#ibm-maximo-operator-catalog-content" title="Permanent link">¤</a></h2>
<p>All content used in the MAS install is sourced from three registries: <strong>icr.io</strong>, <strong>cp.icr.io</strong>, &amp; <strong>quay.io</strong>:</p>
<ul>
<li><strong>icr.io/cpopen</strong> All IBM operators</li>
<li><strong>icr.io/ibm-truststore-mgr</strong> IBM truststore manager worker image</li>
<li><strong>icr.io/ibm-sls</strong> IBM SLS content</li>
<li><strong>icr.io/ibm-uds</strong> IBM UDS content</li>
<li><strong>icr.io/db2u</strong> IBM Db2 Universal operator content</li>
<li><strong>cp.icr.io/cp</strong> All IBM entitled container images</li>
<li><strong>quay.io/opencloudio</strong> IBM common services</li>
<li><strong>quay.io/mongodb</strong> MongoDb Community Edition Operator &amp; associated container images</li>
<li><strong>quay.io/amlen</strong> Eclipse Amlen - Message Broker for IoT/Mobile/Web</li>
<li><strong>quay.io/ibmmas</strong> Non-product IBM Maximo Application Suite images (e.g. MAS CLI)</li>
</ul>
<h2 id="red-hat-operator-catalog-content">Red Hat Operator Catalog Content<a class="headerlink" href="#red-hat-operator-catalog-content" title="Permanent link">¤</a></h2>
<p>All content from the subset of the Red Hat operator catalogs supported by <a href="../mirror_ocp/">mirror_ocp</a> is sourced from eight registries: <strong>icr.io</strong>, <strong>docker.io</strong>, <strong>quay.io</strong>, <strong>gcr.io</strong>, <strong>ghcr.io</strong>, <strong>nvcr.io</strong>, <strong>registry.connect.redhat.com</strong>, and <strong>registry.redhat.io</strong>:</p>
<ul>
<li><strong>icr.io/cpopen</strong></li>
<li><strong>docker.io/grafana</strong></li>
<li><strong>quay.io/community-operator-pipeline-prod</strong></li>
<li><strong>quay.io/operator-pipeline-prod</strong></li>
<li><strong>quay.io/openshift-community-operators</strong></li>
<li><strong>quay.io/strimzi</strong></li>
<li><strong>quay.io/rh-marketplace</strong></li>
<li><strong>gcr.io/kubebuilder</strong></li>
<li><strong>ghcr.io/grafana</strong></li>
<li><strong>ghcr.io/open-telemetry</strong></li>
<li><strong>nvcr.io/nvidia</strong></li>
<li><strong>registry.connect.redhat.com/crunchydata</strong></li>
<li><strong>registry.connect.redhat.com/nvidia</strong></li>
<li><strong>registry.connect.redhat.com/turbonomic</strong></li>
<li><strong>registry.connect.redhat.com/rh-marketplace</strong></li>
<li><strong>registry.redhat.io/openshift4</strong></li>
<li><strong>registry.redhat.io/source-to-image</strong></li>
<li><strong>registry.redhat.io/odf4</strong></li>
<li><strong>registry.redhat.io/cert-manager</strong></li>
<li><strong>registry.redhat.io/rhceph</strong></li>
<li><strong>registry.redhat.io/amq-streams</strong></li>
<li><strong>registry.redhat.io/ubi8</strong></li>
<li><strong>registry.redhat.io/openshift-pipelines</strong></li>
<li><strong>registry.redhat.io/openshift-serverless-1</strong></li>
<li><strong>registry.redhat.io/lvms4</strong></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A content source policy for this content is only configured when <strong>setup_redhat_catalogs</strong> is set to <code>True</code>.</p>
</div>
<p>If you are managing the Red Hat Operator Catalogs yourself the content therein may well be different depending how you have configured mirroring.</p>
<h2 id="role-variables">Role Variables<a class="headerlink" href="#role-variables" title="Permanent link">¤</a></h2>
<h3 id="setup_redhat_release">setup_redhat_release<a class="headerlink" href="#setup_redhat_release" title="Permanent link">¤</a></h3>
<p>Instruct the role to setup <strong>ImageDigestMirrorSet</strong> for the mirrored release content generated by <a href="../mirror_ocp/">mirror_ocp</a>.  This will create an additional policy named <code>ibm-mas-redhat-release</code>.</p>
<ul>
<li><strong>Required</strong></li>
<li>Environment Variable: <code>SETUP_REDHAT_RELEASE</code></li>
<li>Default: <code>False</code></li>
</ul>
<h3 id="setup_redhat_catalogs">setup_redhat_catalogs<a class="headerlink" href="#setup_redhat_catalogs" title="Permanent link">¤</a></h3>
<p>Instruct the role to setup <strong>CatalogSources</strong> and <strong>ImageDigestMirrorSet</strong> for the mirror catalogs generated by <a href="../mirror_ocp/">mirror_ocp</a>.  This will create an additional policy named <code>ibm-mas-redhat-catalogs</code>.</p>
<ul>
<li><strong>Required</strong></li>
<li>Environment Variable: <code>SETUP_REDHAT_CATALOGS</code></li>
<li>Default: <code>False</code></li>
</ul>
<h2 id="role-variables-target-registry">Role Variables - Target Registry<a class="headerlink" href="#role-variables-target-registry" title="Permanent link">¤</a></h2>
<h3 id="registry_private_host">registry_private_host<a class="headerlink" href="#registry_private_host" title="Permanent link">¤</a></h3>
<p>The private hostname for the target registry</p>
<ul>
<li><strong>Required</strong></li>
<li>Environment Variable: <code>REGISTRY_PRIVATE_HOST</code></li>
<li>Default: None</li>
</ul>
<h3 id="registry_private_port">registry_private_port<a class="headerlink" href="#registry_private_port" title="Permanent link">¤</a></h3>
<p>The private port number for the target registry</p>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>REGISTRY_PRIVATE_PORT</code></li>
<li>Default: None</li>
</ul>
<h3 id="registry_private_ca_file">registry_private_ca_file<a class="headerlink" href="#registry_private_ca_file" title="Permanent link">¤</a></h3>
<p>The CA certificate presented by the registry on it's private endpoint.</p>
<ul>
<li><strong>Required</strong></li>
<li>Environment Variable: <code>REGISTRY_PRIVATE_CA_FILE</code></li>
<li>Default: None</li>
</ul>
<h3 id="registry_username">registry_username<a class="headerlink" href="#registry_username" title="Permanent link">¤</a></h3>
<p>The username for the target registry.</p>
<ul>
<li><strong>Required</strong></li>
<li>Environment Variable: <code>REGISTRY_USERNAME</code></li>
<li>Default: None</li>
</ul>
<h3 id="registry_password">registry_password<a class="headerlink" href="#registry_password" title="Permanent link">¤</a></h3>
<p>The password for the target registry.</p>
<ul>
<li><strong>Required</strong></li>
<li>Environment Variable: <code>REGISTRY_PASSWORD</code></li>
<li>Default: None</li>
</ul>
<h3 id="registry_prefix">registry_prefix<a class="headerlink" href="#registry_prefix" title="Permanent link">¤</a></h3>
<p>Optional additional path prefixed to all image repositories related to the IBM Maximo Operator Catalog in the target registry.  We recommend the use of the catalog datestamp for this prefix to organize your registry, e.g. <code>mas-241107</code>, <code>mas-241205</code>.  This should match the value used when you mirrored the images with <a href="../mirror_images/">mirror_images</a>.</p>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>REGISTRY_PREFIX</code></li>
<li>Default: None</li>
</ul>
<h3 id="registry_prefix_redhat">registry_prefix_redhat<a class="headerlink" href="#registry_prefix_redhat" title="Permanent link">¤</a></h3>
<p>Optional additional path prefixed to all image repositories related to the Red Hat Release and Operator Catalogs in the target registry.  We recommend the use of the OpenShift release for this prefix to organize your registry, e.g. <code>ocp-412</code>, <code>ocp-414</code>.  This should match the value used when you mirrored the images with <a href="../mirror_ocp/">mirror_ocp</a>.</p>
<ul>
<li><strong>Required</strong></li>
<li>Environment Variable: <code>REGISTRY_PREFIX_REDHAT</code></li>
<li>Default: None</li>
</ul>
<h3 id="redhat_catalogs_prefix">redhat_catalogs_prefix<a class="headerlink" href="#redhat_catalogs_prefix" title="Permanent link">¤</a></h3>
<p>An optional prefix to apply to the catalog sources names for the 3 Red Hat catalogs supported by this role. For example, setting a value of <code>ibm-mas</code> will result in three catalog sources named <code>ibm-mas-certified-operator-index</code>, <code>ibm-mas-community-operator-index</code>, <code>ibm-mas-redhat-operator-index</code> being created.</p>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>REDHAT_CATALOGS_PREFIX</code></li>
<li>Default: None</li>
</ul>
<h3 id="machine_config_multiupdate">machine_config_multiupdate<a class="headerlink" href="#machine_config_multiupdate" title="Permanent link">¤</a></h3>
<p>An optional value that if present will set the max unavailable nodes for the worker Machine Config Pool. 
This is only recommended to be set during setup of an environment where nodes will be lightly loaded and
draining multiple worker nodes in parallel is possible</p>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>MACHINE_CONFIG_MULTIUPDATE</code></li>
<li>Default: false</li>
</ul>
<h2 id="example-playbook">Example Playbook<a class="headerlink" href="#example-playbook" title="Permanent link">¤</a></h2>
<pre><code class="language-yaml">- hosts: localhost
  vars:
    registry_private_host: myocp-5f1320191125833da1cac8216c06779e-0000.us-south.containers.appdomain.cloud
    registry_private_port: 32500
    registry_private_ca_file: ~/registry-ca.crt

    registry_username: admin
    registry_password: 8934jk77s862!  # Not a real password, don't worry security folks

    setup_redhat_catalogs: true

  roles:
    - ibm.mas_devops.ocp_contentsourcepolicy
</code></pre>
<h2 id="license">License<a class="headerlink" href="#license" title="Permanent link">¤</a></h2>
<p>EPL-2.0</p>
      
    </div>
    <!-- <div id="footer" class="rst-content">
      Built with mkdocs v1.6.1 (2025-09-22 15:01:40.659104+00:00)
    </div> -->
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": false, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
</script></body></html>