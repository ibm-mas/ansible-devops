<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://ibm-mas.github.io/ansible-devops/roles/cp4d_install_services/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>cp4d_install_services - MAS Devops Collection</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../../extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "cp4d_install_services";
        var mkdocs_page_input_path = "roles/cp4d_install_services.md";
        var mkdocs_page_url = "/ansible-devops/roles/cp4d_install_services/";
      </script>
    
    <script src="../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/yaml.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> MAS Devops Collection
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Full Stack Playbooks</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/fullstack-roks/">IBM Cloud</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Lite Playbooks</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/lite-core-roks/">Core only on IBM Cloud</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/lite-core-quickburn/">Core only on QuickBurn</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/lite-manage-roks/">Manage on IBM Cloud</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Other Playbooks</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/ocp/">OCP Playbooks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/dependencies/">Dependencies Playbooks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/cp4d/">CP4D Playbooks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/mas/">MAS Playbooks</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Roles</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../amqstreams/">amqstreams</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ansible_version_check/">ansible_version_check</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../appconnect_install/">appconnect_install</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cos_setup/">cos_setup</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cp4d_db2wh/">cp4d_db2wh</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cp4d_db2wh_backup/">cp4d_db2wh_backup</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cp4d_db2wh_manage_hack/">cp4d_db2wh_manage_hack</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cp4d_db2wh_restore/">cp4d_db2wh_restore</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cp4d_hack_worker_nodes/">cp4d_hack_worker_nodes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cp4d_install/">cp4d_install</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">cp4d_install_services</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#role-variables">Role Variables</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#cpd_version">cpd_version</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#cpd_storage_class">cpd_storage_class</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#cpd_wd_storage_class">cpd_wd_storage_class</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#cpd_services">cpd_services</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#cpd_wsl_project_id">cpd_wsl_project_id</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#cpd_wsl_project_name">cpd_wsl_project_name</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#cpd_wsl_project_description">cpd_wsl_project_description</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#mas_instance_id">mas_instance_id</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#mas_config_dir">mas_config_dir</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#example-playbook">Example Playbook</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#license">License</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../db2u/">db2u</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../gencfg_sls/">gencfg_sls</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../gencfg_workspace/">gencfg_workspace</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../install_operator/">install_operator</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../mongodb/">mongodb</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_deprovision/">ocp_deprovision</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_login/">ocp_login</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_provision/">ocp_provision</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_setup_github_oauth/">ocp_setup_github_oauth</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_setup_mas_deps/">ocp_setup_mas_deps</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_setup_ocs/">ocp_setup_ocs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_verify/">ocp_verify</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../sls_install/">sls_install</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_app_configure/">suite_app_configure</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_app_install/">suite_app_install</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_config/">suite_config</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_dns/">suite_dns</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_install/">suite_install</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_mustgather/">suite_mustgather</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_mustgather_download/">suite_mustgather_download</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_verify/">suite_verify</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../uds_install/">uds_install</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">MAS Devops Collection</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Roles &raquo;</li><li>cp4d_install_services</li>
    <li class="wy-breadcrumbs-aside">
        <a href="https://github.com/ibm-mas/ansible-devops/blob/master/docs/roles/cp4d_install_services.md"
          class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>

          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="cp4d_install_services">cp4d_install_services<a class="headerlink" href="#cp4d_install_services" title="Permanent link"></a></h1>
<p>Install one or more CloudPak for Data services.</p>
<p>This role supports both CP4D v3.5 and v4.0.</p>
<ul>
<li>With CP4D v3.5 all services will be installed to the <code>cpd-meta-ops</code> namespace.</li>
<li>With CP4D v4.0 all services will be installed to the <code>cpd-services</code> namespace.</li>
</ul>
<h2 id="role-variables">Role Variables<a class="headerlink" href="#role-variables" title="Permanent link"></a></h2>
<h3 id="cpd_version">cpd_version<a class="headerlink" href="#cpd_version" title="Permanent link"></a></h3>
<p>Users may <strong>optionally</strong> pass this parameter to explicitly control the version of CP4D used, if this is not done then the role will attempt to locate the <code>cpd-meta-ops</code> namespace associated with CP4D v3.5, if this namespace if located then we will switch to CP4D v3.5 mode, in all other cases the role will assume CP4D v4 is in use.</p>
<ul>
<li>Environment Variable: <code>CPD_VERSION</code></li>
<li>Default Value: None</li>
</ul>
<h3 id="cpd_storage_class">cpd_storage_class<a class="headerlink" href="#cpd_storage_class" title="Permanent link"></a></h3>
<p>Required.  This is used to set <code>spec.storageClass</code> in all CPD v3.5 services, and many - but not all - CP4D v4.0 services.</p>
<ul>
<li>Environment Variable: <code>CPD_STORAGE_CLASS</code></li>
<li>Default Value: None</li>
</ul>
<h3 id="cpd_wd_storage_class">cpd_wd_storage_class<a class="headerlink" href="#cpd_wd_storage_class" title="Permanent link"></a></h3>
<p>Required only if installing Watson Discovery service (<code>wd</code>) on CP4D v4.0.</p>
<ul>
<li>Environment Variable: <code>CPD_WD_STORAGE_CLASS</code></li>
<li>Default Value: None</li>
</ul>
<h3 id="cpd_services">cpd_services<a class="headerlink" href="#cpd_services" title="Permanent link"></a></h3>
<p>Required.  Provide a list of Cloud Pak for Data services to enable.</p>
<ul>
<li>Environment Variable: None</li>
<li>Default Value: None</li>
</ul>
<h3 id="cpd_wsl_project_id">cpd_wsl_project_id<a class="headerlink" href="#cpd_wsl_project_id" title="Permanent link"></a></h3>
<p>Optional - Stores the CP4D Watson Studio Project ID that can be used to configure HP Utilities application in MAS. </p>
<p>If this property is not set, and Watson Studio is installed as part of CP4D, this role will automatically create one Watson Studio project that could be used to configure HP Utilities application in MAS instance (<code>mas_instance_id</code> and <code>mas_config_dir</code> properties must also be set in order for Watson Studio project to be created as part of this role.)</p>
<ul>
<li>Environment Variable: <code>CPD_WSL_PROJECT_ID</code></li>
<li>Default Value: None.</li>
</ul>
<h3 id="cpd_wsl_project_name">cpd_wsl_project_name<a class="headerlink" href="#cpd_wsl_project_name" title="Permanent link"></a></h3>
<p>Optional - Stores the CP4D Watson Studio Project name that can be used to configure HP Utilities application in MAS. </p>
<ul>
<li>Environment Variable: <code>CPD_WSL_PROJECT_NAME</code></li>
<li>Default Value: <code>wsl_default_project</code></li>
</ul>
<h3 id="cpd_wsl_project_description">cpd_wsl_project_description<a class="headerlink" href="#cpd_wsl_project_description" title="Permanent link"></a></h3>
<p>Optional - Stores the CP4D Watson Studio Project description that can be used to configure HP Utilities application in MAS. </p>
<ul>
<li>Environment Variable: <code>CPD_WSL_PROJECT_DESCRIPTION</code></li>
<li>Default Value: <code>Watson Studio project to be used by HP Utilities app in MAS</code></li>
</ul>
<h3 id="mas_instance_id">mas_instance_id<a class="headerlink" href="#mas_instance_id" title="Permanent link"></a></h3>
<p>If Watson Studio is installed as part of CP4D: The instance ID of Maximo Application Suite that the WatsonStudioCfg configuration will target.  If this or <code>mas_config_dir</code> are not set then the role will not generate a WatsonStudioCfg template.</p>
<ul>
<li>Environment Variable: <code>MAS_INSTANCE_ID</code></li>
<li>Default Value: None</li>
</ul>
<h3 id="mas_config_dir">mas_config_dir<a class="headerlink" href="#mas_config_dir" title="Permanent link"></a></h3>
<p>If Watson Studio is installed as part of CP4D: Local directory to save the generated WatsonStudioCfg resource definition.  This can be used to manually configure a MAS instance to connect to the Watson Studio, or used as an input to the <a href="../suite_config/">suite_config</a> role. If this or <code>mas_instance_id</code> are not set then the role will not generate a WatsonStudioCfg template.</p>
<ul>
<li>Environment Variable: <code>MAS_CONFIG_DIR</code></li>
<li>Default Value: None</li>
</ul>
<h2 id="example-playbook">Example Playbook<a class="headerlink" href="#example-playbook" title="Permanent link"></a></h2>
<pre><code class="language-yaml">---
- hosts: localhost
  any_errors_fatal: true
  vars:
    cpd_storage_class: ibmc-file-gold-gid
    cpd_wd_storage_class: ibmc-block-gold
    # Install the Db2 Warehouse &amp; WSL services
    cpd_services:
      - db2wh
      - wsl
  roles:
    - ibm.mas_devops.cp4d_install_services

</code></pre>
<h2 id="license">License<a class="headerlink" href="#license" title="Permanent link"></a></h2>
<p>EPL-2.0</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/ibm-mas/ansible-devops" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../cp4d_install/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../db2u/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
